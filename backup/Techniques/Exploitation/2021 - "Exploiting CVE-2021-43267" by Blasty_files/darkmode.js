var toggle = document.getElementById("dark-mode-toggle");
var darkTheme = document.getElementById("dark-mode-theme");
var localStorageKey = 'dark-mode-storage-x2';

var savedTheme = localStorage.getItem(localStorageKey) || "light";
console.log('saved theme: ' + savedTheme);
setTheme(savedTheme);

toggle.addEventListener("click", () => {
    console.log(toggle.className);
    if (toggle.className === "fas fa-moon") {
        setTheme("dark");
    } else if (toggle.className === "fas fa-sun") {
        setTheme("light");
    }
});

function setTheme(mode) {
    localStorage.setItem(localStorageKey, mode);
    console.log(mode);

    if (mode === "dark") {
        darkTheme.disabled = false;
        toggle.className = "fas fa-sun";
    } else if (mode === "light") {
        darkTheme.disabled = true;
        toggle.className = "fas fa-moon";
    }
}
