(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return m});n(15),n(16),n(18),n(6),n(20),n(8),n(29),n(51),n(10),n(90),n(13),n(163),n(31);var r=n(0),o=n(4),i=n(5),a=n(3),s=n(2);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function l(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){u(i,r,o,a,s,"next",t)}function s(t){u(i,r,o,a,s,"throw",t)}a(void 0)})}}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var m=function(e){function n(t){var e,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),r=this,(e=!(o=p(n).call(this,t))||"object"!==c(o)&&"function"!=typeof o?d(r):o).state={manual:!1,autolink:"",manualLink:"",manualTitle:"",manualText:"",posting:!1},e.onDragover=e.onDragover.bind(d(e)),e.onDrop=e.onDrop.bind(d(e)),e.autoref=null,e.manualref=null,e}var u,m,v;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(n,r["Component"]),u=n,(m=[{key:"bookmarklet",value:function(){var t=function(){var t=window,e=document,n=e.createElement("div"),r=n.style;function o(t){r.color="#d00",n.textContent=t}function i(){t.setTimeout(function(){r.height="0",t.setTimeout(function(){n.parentNode&&n.parentNode.removeChild(n)},300)},500)}r.transition="all 200ms",r.position="fixed",r.left="0",r.right="0",r.top="0",r.zIndex="16777271",r.height="0",r.width="100%",r.overflow="hidden",r.background="#fff",r.borderBottom="1px solid #bdbdbd",r.boxShadow="0 0 30px #828282",r.color="#232323",r.fontSize="30px",r.fontWeight="700",r.fontFamily='"PT Serif", Georgia, serif',r.lineHeight="67px",r.textAlign="center",n.textContent="Сохраняю..",e.body.appendChild(n),t.setTimeout(function(){r.height="70px"},100),t.setTimeout(function(){var t=new Headers;t.append("Authorization","Basic #AUTH#"),t.append("Content-Type","application/json"),fetch("#LOCATION#/news",{method:"POST",mode:"cors",credentials:"omit",headers:t,body:JSON.stringify({link:location.href})}).then(function(t){if(200!==t.status)return o("Не смог сохранить"),void i();r.color="#090",n.textContent="Сохранил",i()}).catch(function(){o("Не смог сохранить"),i()})},500)}.toString().replace(/#LOCATION#/g,a.b).replace(/#AUTH#/g,localStorage.getItem("rt-news.auth")||"").replace(/\s{2,}/g," ");return"javascript:("+encodeURIComponent(t)+")();"}},{key:"render",value:function(){var e=this;return this.state.manual?t("form",{className:"add-form",onSubmit:function(t){t.preventDefault(),e.onSubmit()},style:this.props.style},t("p",{className:"add-form__manual-switch"},t("span",{role:"button",className:"pseudo",onClick:function(){return e.onSwitch()}},"По ссылке")),t("input",{type:"text",value:this.state.manualLink,onChange:function(t){return e.setState({manualLink:t.target.value})},placeholder:"Ссылка на новость",className:"add-form__article-manual-link",ref:function(t){return e.manualref=t}}),t("input",{type:"text",value:this.state.manualTitle,onChange:function(t){return e.setState({manualTitle:t.target.value})},placeholder:"Название новости",className:"add-form__article-title"}),t("textarea",{value:this.state.manualText,onChange:function(t){return e.setState({manualText:t.target.value})},placeholder:"Описание новости",className:"add-form__article-description",onKeyDown:function(t){0!==e.state.manualLink.length&&0!==e.state.manualTitle.length&&0!==e.state.manualText.length&&13===t.which&&(t.metaKey||t.ctrlKey)&&(t.preventDefault(),e.onSubmit())}}),t("input",{className:"add-form__submit add-form__submit-manual",type:"submit",value:"Добавить",disabled:0===this.state.manualLink.length||0===this.state.manualTitle.length||0===this.state.manualText.length,title:0===this.state.manualLink.length||0===this.state.manualTitle.length||0===this.state.manualText.length?"Поля должны быть заполнены":""}),this.state.posting&&t("p",{className:"add-form__posting"},"добавляю...")):t("form",{className:"add-form",onSubmit:function(t){t.preventDefault(),e.onSubmit()},style:this.props.style},t("p",{className:"add-form__manual-switch"},t("span",{role:"button",className:"pseudo",onClick:function(){return e.onSwitch()}},"Вручную")),t("div",{className:"add-form__auto"},t("input",{type:"text",value:this.state.autolink,onChange:function(t){return e.setState({autolink:t.target.value})},placeholder:"Ссылка на новость",className:"add-form__article-url",ref:function(t){return e.autoref=t}}),t("input",{className:"add-form__submit add-form__submit-auto",type:"submit",value:"Добавить",disabled:0===this.state.autolink.length,title:0===this.state.autolink.length?'Поле "Ссылка на новость" должно быть заполнено':""})),this.state.posting&&t("p",{className:"add-form__posting"},"добавляю..."),t("p",{className:"add-form__bookmarklet"},t("span",{className:"add-form__bookmarklet-text"},"закладка для быстрого добавления новости:"),t("br",null),t("a",{className:"add-form__bookmarklet-link",href:this.bookmarklet()},"Радио-Т")),t("p",{className:"add-form__drag-message"},"Также можно добавить новость перетянув ссылку на это окно"))}},{key:"onSwitch",value:function(){var t=this;this.setState({manual:!this.state.manual}),Object(s.m)(function(){return!(!t.autoref&&!t.manualref)}).then(function(){(t.autoref||t.manualref).focus()})}},{key:"onDragover",value:function(t){t.dataTransfer&&-1!==t.dataTransfer.types.indexOf("text/plain")&&(t.dataTransfer.dropEffect="copy",t.preventDefault())}},{key:"onDrop",value:function(){var e=l(regeneratorRuntime.mark(function e(n){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.dataTransfer||-1!==n.dataTransfer.types.indexOf("text/plain")){e.next=2;break}return e.abrupt("return");case 2:if(r=n.dataTransfer.getData("text/plain"),/^https?:\/\/.*/.test(r)){e.next=6;break}return e.abrupt("return");case 6:if((a=new URL(r)).origin!==window.location.origin){e.next=9;break}return e.abrupt("return");case 9:return n.preventDefault(),this.setState({posting:!0}),e.prev=11,e.next=14,Object(o.b)(a.href);case 14:Object(i.b)({data:t("b",null,"Новость добавлена"),time:7e3}),this.props.onAdd&&this.props.onAdd(a.href),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(11),console.error(e.t0),Object(i.b)({data:t("b",null,"Произошла ошибка"),level:"error",time:5e3});case 22:return e.prev=22,this.setState({posting:!1}),e.finish(22);case 25:case"end":return e.stop()}},e,this,[[11,18,22,25]])}));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){var t=this;document.body.addEventListener("dragover",this.onDragover,!1),document.body.addEventListener("drop",this.onDrop,!1),window.setTimeout(function(){(t.autoref||t.manualref).focus()},500)}},{key:"componentWillUnmount",value:function(){document.body.removeEventListener("dragover",this.onDragover,!1),document.body.removeEventListener("drop",this.onDrop,!1)}},{key:"onSubmit",value:function(){var e=l(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({posting:!0}),n=this.state.manualLink,e.prev=2,this.state.manual){e.next=9;break}return e.next=6,Object(o.b)(this.state.autolink);case 6:this.setState({autolink:""}),e.next=12;break;case 9:return e.next=11,Object(o.b)(this.state.manualLink,this.state.manualTitle,this.state.manualText);case 11:this.setState({manualLink:"",manualTitle:"",manualText:""});case 12:Object(i.b)({data:t("b",null,"Новость добавлена"),time:7e3}),this.props.onAdd&&this.props.onAdd(n),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(2),console.error(e.t0),Object(i.b)({data:t("b",null,"Произошла ошибка"),level:"error",time:5e3});case 20:return e.prev=20,this.setState({posting:!1}),e.finish(20);case 23:case"end":return e.stop()}},e,this,[[2,16,20,23]])}));return function(){return e.apply(this,arguments)}}()}])&&f(u.prototype,m),v&&f(u,v),n}()}).call(this,n(0).createElement)},101:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return u});n(15),n(16),n(18),n(45),n(6),n(166),n(46),n(240),n(20),n(170),n(8),n(10),n(241),n(121),n(13);var r=n(0);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=function(e){function n(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),a(this,s(n).call(this,t))}var o,u,l;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(n,r["Component"]),o=n,(u=[{key:"render",value:function(){var e=this;return t("div",{className:"remark42 ".concat(this.props.className||""),id:this.props.id,ref:function(t){return e.ref=t}})}},{key:"shouldComponentUpdate",value:function(t){return t.theme!==this.props.theme}},{key:"componentDidMount",value:function(){var t={baseurl:this.props.baseurl||"https://remark42.radio-t.com",site_id:this.props.site_id,theme:this.props.theme||"light"};if(t.site_id){t.url=(this.props.url||window.location.href).split("#")[0];var e=this.ref,n=Object.keys(t).map(function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t[e]))}).join("&");e.innerHTML='\n    <iframe\n      src="'.concat(t.baseurl,"/web/iframe.html?").concat(n,'"\n      width="100%"\n      frameborder="0"\n      allowtransparency="true"\n      scrolling="no"\n      tabindex="0"\n      title="Remark42"\n      style="width: 1px !important; min-width: 100% !important; border: none !important; overflow: hidden !important;"\n      horizontalscrolling="no"\n      verticalscrolling="no"\n    ></iframe>\n  ');var r=e.getElementsByTagName("iframe")[0];this.receiveMessages=function(t){try{var e="string"==typeof t.data?JSON.parse(t.data):t.data;e.remarkIframeHeight&&(r.style.height="".concat(e.remarkIframeHeight,"px")),e.scrollTo&&window.scrollTo(window.pageXOffset,e.scrollTo+r.getBoundingClientRect().top+window.pageYOffset),e.hasOwnProperty("isUserInfoShown")&&(e.isUserInfoShown?i.init(e.user||{}):i.close())}catch(t){}},this.postHashToIframe=function(t){var e=t?"#".concat(t.newURL.split("#")[1]):window.location.hash;0===e.indexOf("#".concat("remark42__comment-"))&&(t&&t.preventDefault(),r.contentWindow&&r.contentWindow.postMessage(JSON.stringify({hash:e}),"*"))},this.postClickOutsideToIframe=function(t){r.contains(t.target)||r.contentWindow&&r.contentWindow.postMessage(JSON.stringify({clickOutside:!0}),"*")},this.changeTheme=function(t){r.contentWindow&&r.contentWindow.postMessage(JSON.stringify({theme:t}),"*")},window.addEventListener("message",this.receiveMessages),window.addEventListener("hashchange",this.postHashToIframe),document.addEventListener("click",this.postClickOutsideToIframe),setTimeout(this.postHashToIframe,1e3);var o="remark-km423lmfdslkm34",i={node:null,back:null,closeEl:null,iframe:null,style:null,init:function(e){var r=this;this.animationStop(),this.style||(this.style=document.createElement("style"),this.style.setAttribute("rel","stylesheet"),this.style.setAttribute("type","text/css"),this.style.innerHTML="\n          #".concat(o,"-node {\n            position: fixed;\n            top: 0;\n            right: 0;\n            bottom: 0;\n            width: 400px;\n            transition: transform 0.4s ease-out;\n            max-width: 100%;\n            transform: translate(400px, 0);\n\t\t\t\t\t\tz-index: 4;\n          }\n          #").concat(o,"-node[data-animation] {\n            transform: translate(0, 0);\n          }\n          #").concat(o,"-back {\n            position: fixed;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: rgba(0,0,0,0.7);\n            opacity: 0;\n            transition: opacity 0.4s ease-out;\n\t\t\t\t\t\tz-index: 3;\n          }\n          #").concat(o,"-back[data-animation] {\n            opacity: 1;\n          }\n          #").concat(o,"-close {\n            top: 0px;\n            right: 400px;\n            position: absolute;\n            text-align: center;\n            font-size: 25px;\n            cursor: pointer;\n            color: white;\n            border-color: transparent;\n            border-width: 0;\n            padding: 0;\n            margin-right: 4px;\n            background-color: transparent;\n\t\t\t\t\t\tz-index: 4;\n          }\n          @media all and (max-width: 430px) {\n            #").concat(o,"-close {\n              right: 0px;\n              font-size: 20px;\n              color: black;\n            }\n          }\n        ")),this.node||(this.node=document.createElement("div"),this.node.id=o+"-node"),this.back||(this.back=document.createElement("div"),this.back.id=o+"-back",this.back.onclick=function(){return r.close()}),this.closeEl||(this.closeEl=document.createElement("button"),this.closeEl.id=o+"-close",this.closeEl.innerHTML="&#10006;",this.closeEl.onclick=function(){return r.close()});var i=n+"&page=user-info&"+"&id=".concat(e.id,"&name=").concat(e.name,"&picture=").concat(e.picture||"","&isDefaultPicture=").concat(e.isDefaultPicture||0);this.node.innerHTML='\n      <iframe\n        src="'.concat(t.baseurl,"/web/iframe.html?").concat(i,'"\n        width="100%"\n        height="100%"\n        frameborder="0"\n        allowtransparency="true"\n        scrolling="no"\n        tabindex="0"\n        title="Remark42"\n        verticalscrolling="no"\n        horizontalscrolling="no"\n\t\t\t\t\t/>\n\t\t\t\t'),this.iframe=this.node.querySelector("iframe"),this.node.appendChild(this.closeEl),document.body.appendChild(this.style),document.body.appendChild(this.back),document.body.appendChild(this.node),document.addEventListener("keydown",this.onKeyDown),window.setTimeout(function(){r.back.setAttribute("data-animation",""),r.node.setAttribute("data-animation",""),r.iframe.focus()},400)},close:function(){this.node&&(this.onAnimationClose(),this.node.removeAttribute("data-animation")),this.back&&this.back.removeAttribute("data-animation"),document.removeEventListener("keydown",this.onKeyDown)},delay:null,events:["","webkit","moz","MS","o"].map(function(t){return t?"".concat(t,"TransitionEnd"):"transitionend"}),onAnimationClose:function(){var t=this,e=this.node;this.node&&(this.delay=window.setTimeout(this.animationStop,1e3),this.events.forEach(function(n){return e.addEventListener(n,t.animationStop,!1)}))},onKeyDown:function(t){27==t.keyCode&&i.close()},animationStop:function(){var t=i;if(t.node)return t.delay&&(clearTimeout(t.delay),t.delay=null),t.events.forEach(function(e){return t.node.removeEventListener(e,t.animationStop,!1)}),t.remove()},remove:function(){var t=i;t.node&&t.node.remove(),t.back&&t.back.remove(),t.style&&t.style.remove()}}}else console.error("Remark42: Site ID is undefined.")}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.receiveMessages),window.removeEventListener("hashchange",this.postHashToIframe),document.removeEventListener("click",this.postClickOutsideToIframe)}},{key:"componentDidUpdate",value:function(t){t.theme!==this.props.theme&&this.changeTheme&&this.changeTheme(this.props.theme||"light")}}])&&i(o.prototype,u),l&&i(o,l),n}()}).call(this,n(0).createElement)},102:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return l});n(15),n(16),n(18),n(6),n(20),n(8),n(10),n(13);var r=n(0),o=n(39);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(e){function n(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),s(this,c(n).apply(this,arguments))}var i,l,f;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(n,r["Component"]),i=n,(l=[{key:"componentDidMount",value:function(){document.title="404 | Новости для Радио-Т"}},{key:"render",value:function(){return t("div",{className:"not-found"},t("h1",{className:"not-found__header"},"404"),t("p",{className:"not-found__text"},"Страница не найдена"),t(o.a,{to:"/",className:"not-found__link"},"На главную"))}}])&&a(i.prototype,l),f&&a(i,f),n}()}).call(this,n(0).createElement)},127:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return o});n(46);var r={"make-current":{title:"Сделать текущей",id:"make-current"},"make-geek":{title:"Гиковское",id:"make-geek"},"make-ungeek":{title:"Не гиковское",id:"make-ungeek"},"make-first":{title:"Сделать первой",id:"make-first"},archive:{title:"В архив",id:"archive"},remove:{title:"Удалить",id:"remove"},restore:{title:"Восстановить",id:"restore"}};function o(e){return t("div",{className:"post-controls "+(e.className||"")},e.controls.map(function(n){return t("span",{role:"button",className:"post-controls__control "+"post-controls__control-".concat(n),key:n,onClick:function(){return e.onChange&&e.onChange(n)}},r[n].title)}))}}).call(this,n(0).createElement)},128:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M13.851619 6.117109q0 1.327471-.915497 2.452766t-2.487099 1.777591-3.433113.652291q-.53404 0-1.106225-.061033-1.510571 1.335099-3.509404 1.846252-.373828.106809-.869722.167842-.129696.015257-.232689-.068665t-.13351-.221244v-.007628q-.022888-.030516-.003815-.09155t.015258-.076293.034331-.072476l.045775-.068662.053404-.064849.061033-.068662q.053404-.061032.236503-.263205t.263205-.289908.236503-.301349.247947-.389087.205987-.450121.198357-.579813Q1.561073 9.260314.870636 8.260896T.180199 6.117107q0-.991788.541669-1.89584t1.457166-1.56016 2.181933-1.041376 2.654941-.385273q1.86151 0 3.433113.652292t2.487099 1.777589.915497 2.452769z" stroke="none"></path></svg>'},129:function(t,e,n){"use strict";n.d(e,"a",function(){return v});n(15),n(16),n(18),n(45),n(119),n(6),n(93),n(20),n(170),n(8),n(94),n(51),n(244),n(10),n(245),n(121),n(13);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var f=Symbol(),p=new WeakMap,d=new WeakMap,h=new IntersectionObserver(function(t){t.forEach(function(t){if(p.has(t.target)){var e=p.get(t.target);e[f]=t.isIntersecting,e[f]?e.setState({}):d.set(e,[e.props,e.state])}})});function m(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;var o=new Set([].concat(l(n),l(r))),i=!0,a=!1,s=void 0;try{for(var c,u=o[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var f=c.value;if(t[f]!==e[f])return!1}}catch(t){a=!0,s=t}finally{try{i||null==u.return||u.return()}finally{if(a)throw s}}return!0}function v(t,e){return function(n){function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=a(this,c(r).call(this,t)))[f]=!0,e}var l,v,b;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(r,t),l=r,(v=[{key:"shouldComponentUpdate",value:function(t,n,i){if(e){var a=!0,u=!1,l=void 0;try{for(var p,h=e[Symbol.iterator]();!(a=(p=h.next()).done);a=!0){var v=p.value;if(t[v]!==this.props[v])return!0}}catch(t){u=!0,l=t}finally{try{a||null==h.return||h.return()}finally{if(u)throw l}}}if(!this[f])return!1;if(d.has(this)){var b=o(d.get(this),2),y=b[0],g=b[1],w=!(m(y,t)&&m(g,n)&&m(this.context,i));return d.delete(this),w}return!s(c(r.prototype),"shouldComponentUpdate",this)||s(c(r.prototype),"shouldComponentUpdate",this).call(this,t,n,i)}},{key:"componentWillMount",value:function(){s(c(r.prototype),"componentWillMount",this)&&s(c(r.prototype),"componentWillMount",this).call(this)}},{key:"componentDidMount",value:function(){s(c(r.prototype),"componentDidMount",this)&&s(c(r.prototype),"componentDidMount",this).call(this),this.mainElement&&(p.set(this.mainElement,this),h.observe(this.mainElement))}},{key:"componentWillUnmount",value:function(){s(c(r.prototype),"componentWillUnmount",this)&&s(c(r.prototype),"componentWillUnmount",this).call(this),this.mainElement&&h.unobserve(this.mainElement)}},{key:"render",value:function(){return s(c(r.prototype),"render",this).call(this)}}])&&i(l.prototype,v),b&&i(l,b),r}()}},130:function(t,e,n){"use strict";n.d(e,"a",function(){return b});n(15),n(16),n(18),n(92),n(6),n(93),n(20),n(8),n(29),n(94),n(51),n(10),n(121),n(13),n(31);var r=n(3);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=Symbol(),p=Symbol(),d=Symbol(),h=Symbol(),m=Symbol(),v="VYRTSEVDATADRAG";function b(t,e){var n=[];return function(o){function b(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,b),(e=s(this,u(b).call(this,t)))[f]=!1,e[p]=null,e[d]=null,e[h]=null,e[m]=null,e}var y,g,w;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(b,t),y=b,(g=[{key:"componentDidMount",value:function(){c(u(b.prototype),"componentDidMount",this)&&c(u(b.prototype),"componentDidMount",this).call(this),this.dragHandle&&this.mainElement&&(this.onHandleMouseEnter=this.onHandleMouseEnter.bind(this),this.dragHandle.addEventListener("mouseenter",this.onHandleMouseEnter),this.onHandleMouseLeave=this.onHandleMouseLeave.bind(this),this.dragHandle.addEventListener("mouseleave",this.onHandleMouseLeave),this.onHandleTouchStart=this.onHandleTouchStart.bind(this),this.dragHandle.addEventListener("touchstart",this.onHandleTouchStart),this.onHandleTouchMove=this.onHandleTouchMove.bind(this),this.dragHandle.addEventListener("touchmove",this.onHandleTouchMove),this.onHandleTouchEnd=this.onHandleTouchEnd.bind(this),this.dragHandle.addEventListener("touchend",this.onHandleTouchEnd),this.onTouchDrag=this.onTouchDrag.bind(this),this.mainElement.addEventListener(v,this.onTouchDrag),this.onTouchDragLeave=this.onTouchDragLeave.bind(this),this.mainElement.addEventListener("".concat(v,"Leave"),this.onTouchDragLeave),this.onTouchDragEnd=this.onTouchDragEnd.bind(this),this.mainElement.addEventListener("".concat(v,"End"),this.onTouchDragEnd),this.onDrop=this.onDrop.bind(this),this.mainElement.addEventListener("drop",this.onDrop),this.onDrag=this.onDrag.bind(this),this.mainElement.addEventListener("drag",this.onDrag),this.onDragStart=this.onDragStart.bind(this),this.mainElement.addEventListener("dragstart",this.onDragStart),this.onDragOver=this.onDragOver.bind(this),this.mainElement.addEventListener("dragover",this.onDragOver),this.onDragLeave=this.onDragLeave.bind(this),this.mainElement.addEventListener("dragleave",this.onDragLeave),this.onDragEnd=this.onDragEnd.bind(this),this.mainElement.addEventListener("dragend",this.onDragEnd))}},{key:"componentWillUnmount",value:function(){c(u(b.prototype),"componentWillUnmount",this)&&c(u(b.prototype),"componentWillUnmount",this).call(this),this.mainElement&&(this.mainElement.removeEventListener(v,this.onTouchDrag),this.mainElement.removeEventListener("".concat(v,"Leave"),this.onTouchDragLeave),this.mainElement.removeEventListener("".concat(v,"End"),this.onTouchDragEnd),this.mainElement.removeEventListener("drop",this.onDrop),this.mainElement.removeEventListener("drag",this.onDrag),this.mainElement.removeEventListener("dragstart",this.onDragStart),this.mainElement.removeEventListener("dragover",this.onDragOver),this.mainElement.removeEventListener("dragleave",this.onDragLeave),this.mainElement.removeEventListener("dragend",this.onDragEnd)),this.dragHandle&&(this.dragHandle.removeEventListener("touchend",this.onHandleTouchEnd),this.dragHandle.removeEventListener("touchmove",this.onHandleTouchMove),this.dragHandle.removeEventListener("touchstart",this.onHandleTouchStart),this.dragHandle.removeEventListener("mouseenter",this.onHandleMouseEnter),this.dragHandle.removeEventListener("mouseleave",this.onHandleMouseLeave))}},{key:"onHandleMouseEnter",value:function(){this.mainElement&&(this.mainElement.draggable=this.props.draggable||!1)}},{key:"onHandleMouseLeave",value:function(){this.mainElement&&(this.mainElement.draggable=!1)}},{key:"onTouchDrag",value:function(t){var e=this.mainElement.getBoundingClientRect();t.relativeCoords.y/e.height*100<50?(this.mainElement.classList.remove("touch-drag-target-bottom"),this.mainElement.classList.add("touch-drag-target-top")):(this.mainElement.classList.remove("touch-drag-target-top"),this.mainElement.classList.add("touch-drag-target-bottom"))}},{key:"onTouchDragLeave",value:function(){this.mainElement.classList.remove("touch-drag-target-top"),this.mainElement.classList.remove("touch-drag-target-bottom")}},{key:"onTouchDragEnd",value:function(t){var e=this;if(this.mainElement.classList.remove("touch-drag-target-top"),this.mainElement.classList.remove("touch-drag-target-bottom"),t.position!==this.getPosition()){var n=function(){var n=e.mainElement.getBoundingClientRect(),r=t.relativeCoords.y/n.height*100<60?1:0;return t.position<e.getPosition()&&(r-=1),r}();t.position!==this.getPosition()+n&&this.props.onMove&&this.props.onMove(t.data,t.position,this.getPosition()+n)}}},{key:"onHandleTouchStart",value:function(t){var e=this;t.touches.length>1||(t.preventDefault(),this.mainElement.classList.add("touch-drag-item__start"),this.mainElement.classList.add("touch-drag-item"),this.mainElement.classList.remove("touch-drag-item__start"),this[p]=t.touches[0],this[d]=this.mainElement.style.transform,this[h]=t.touches[0].clientY,this[m]=window.setInterval(function(){e[h]&&e[h]<=80?window.scrollBy(0,-(80-e[h])/2):e[h]&&e[h]>=window.innerHeight-80&&window.scrollBy(0,(80-(window.innerHeight-e[h]))/2)},30))}},{key:"onHandleTouchMove",value:function(t){this[h]=t.touches[0].clientY;var e=t.touches[0].pageY-this[p].pageY;this.mainElement.style.transform="translate(0, ".concat(e,"px)");var r=document.elementsFromPoint(t.touches[0].clientX,t.touches[0].clientY),o=n.filter(function(t){return-1===r.indexOf(t)}),i=new Event("".concat(v,"Leave"),{bubbles:!1,cancelable:!1});o.forEach(function(t){return t.dispatchEvent(i)}),(n=r).forEach(function(e){if(e){var n=new Event(v,{bubbles:!1,cancelable:!0}),r=e.getBoundingClientRect();n.absoluteCoords={x:t.touches[0].clientX,y:t.touches[0].clientY},n.relativeCoords={x:t.touches[0].clientX-(r.x||r.left),y:t.touches[0].clientY-(r.y||r.top)},e.dispatchEvent(n)}})}},{key:"onHandleTouchEnd",value:function(t){this[m]&&clearInterval(this[m]),this.mainElement.classList.remove("touch-drag-item"),this[d]?this.mainElement.style.transform=this[d]:this.mainElement.style.transform="";var e=document.elementsFromPoint(t.changedTouches[0].clientX,t.changedTouches[0].clientY),n=this.getPosition(),r=this.getData();e.forEach(function(e){if(e){var o=new Event("".concat(v,"End"),{bubbles:!1,cancelable:!0});o.position=n,o.data=r;var i=e.getBoundingClientRect();o.absoluteCoords={x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY},o.relativeCoords={x:t.changedTouches[0].clientX-(i.x||i.left),y:t.changedTouches[0].clientY-(i.y||i.top)},e.dispatchEvent(o)}})}},{key:"onDragStart",value:function(t){var n=this;this.mainElement.draggable&&(this.mainElement.classList.add("drop-item"),t.dataTransfer.setData("".concat(e,"/position"),this.getPosition().toString()),t.dataTransfer.setData("".concat(e,"/data"),JSON.stringify(this.getData())),r.c&&(this[h]=t.clientY,this[m]=window.setInterval(function(){n[h]<=80?window.scrollBy(0,-(80-n[h])/2):n[h]>=window.innerHeight-80&&window.scrollBy(0,(80-(window.innerHeight-n[h]))/2)},30)))}},{key:"onDrag",value:function(t){r.c&&(this[h]=t.clientY)}},{key:"onDragOver",value:function(t){if(-1!==t.dataTransfer.types.indexOf("".concat(e,"/position"))){if(t.preventDefault(),t.dataTransfer.getData("".concat(e,"/position"))===this.getPosition().toString())return this.mainElement.classList.remove("drop-top"),void this.mainElement.classList.remove("drop-bottom");var n;1===(n=t.currentTarget.getBoundingClientRect(),(t.clientY-(n.y||n.top))/n.height*100<60?1:0)?(this.mainElement.classList.remove("drop-bottom"),this.mainElement.classList.add("drop-top")):(this.mainElement.classList.remove("drop-top"),this.mainElement.classList.add("drop-bottom"))}}},{key:"onDragLeave",value:function(){this.mainElement.classList.remove("drop-top"),this.mainElement.classList.remove("drop-bottom")}},{key:"onDragEnd",value:function(){this[m]&&clearInterval(this[m]),this.mainElement.classList.remove("drop-item"),this.mainElement.classList.remove("drop-top"),this.mainElement.classList.remove("drop-bottom")}},{key:"onDrop",value:function(){var t,n=(t=regeneratorRuntime.mark(function t(n){var r,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this[m]&&clearInterval(this[m]),this.mainElement.classList.remove("drop-item"),this.mainElement.classList.remove("drop-top"),this.mainElement.classList.remove("drop-bottom"),-1!==n.dataTransfer.types.indexOf("".concat(e,"/position"))){t.next=6;break}return t.abrupt("return");case 6:if(n.preventDefault(),(r=parseInt(n.dataTransfer.getData("".concat(e,"/position")),10))!==this.getPosition()){t.next=10;break}return t.abrupt("return");case 10:if(a=void 0,a=n.currentTarget.getBoundingClientRect(),o=(n.clientY-(a.y||a.top))/a.height*100<60?1:0,r<this.getPosition()&&(o-=1),r!==this.getPosition()+o){t.next=14;break}return t.abrupt("return");case 14:i=JSON.parse(n.dataTransfer.getData("".concat(e,"/data"))),this.props.onMove&&this.props.onMove(i,r,this.getPosition()+o);case 16:case"end":return t.stop()}var a},t,this)}),function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function s(t){i(a,r,o,s,c,"next",t)}function c(t){i(a,r,o,s,c,"throw",t)}s(void 0)})});return function(t){return n.apply(this,arguments)}}()},{key:"render",value:function(){return c(u(b.prototype),"render",this).call(this)}}])&&a(y.prototype,g),w&&a(y,w),b}()}},131:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return C}),n.d(e,"b",function(){return N});n(15),n(16),n(18),n(6),n(50),n(20),n(8),n(29),n(10),n(13),n(31);var r=n(0),o=n(2),i=n(4),a=n(21),s=n(3),c=n(52),u=n(101),l=n(33),f=n(102),p=n(43),d=n(132),h=n(5),m=n(40),v=n.n(m),b=n(76),y=n.n(b);function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function _(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){w(i,r,o,a,s,"next",t)}function s(t){w(i,r,o,a,s,"throw",t)}a(void 0)})}}function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function O(t,e){return!e||"object"!==g(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function j(t,e){return(j=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var S=Object(c.b)(function(t){return{theme:"day"===t.theme?"light":"dark"}})(u.a);function E(e){var n=e.article;return t("div",null,t("h3",{className:"title article__title"},n.geek&&t(v.a,{className:"icon post__title-geek-icon",svg:y.a,title:"Гиковская тема"}),t("a",{className:"post__title-link",href:n.origlink},n.title)),t("div",{className:"post__meta article__meta"},t("a",{className:"post__original-link",href:n.origlink,title:n.origlink,target:"_blank"},n.domain),t("span",{className:"post__timestamp",title:n.ats,dangerouslySetInnerHTML:{__html:Object(o.b)(new Date(Date.parse(n.ats)))}})))}function T(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(n){function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=O(this,x(c).call(this,t))).state={article:null,error:null,previewSnippet:null,previewContent:null,mode:"view"},e.snippeteditor=null,e.editor=null,e}var u,m,v;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&j(t,e)}(c,r["PureComponent"]),u=c,(m=[{key:"componentDidMount",value:function(){var t=this;Object(i.h)(this.props.slug).then(function(e){if(null===e)throw new Error("Unknown article");document.title=e.title+" | Новости Радио-Т",t.setState({article:e})}).catch(function(e){t.setState({error:e})}),window.setTimeout(function(){var t=window.location.hash;if(""!==t){var e=document.getElementById(t.substr(1));e&&Object(o.j)(e)}},200)}},{key:"edit",value:function(){var t=_(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.setState({previewSnippet:this.state.article.snippet||"",previewContent:this.state.article.content||"",mode:"edit"}),t.next=3,Object(o.m)(function(){return!!e.snippeteditor},1e4);case 3:this.snippeteditor&&this.snippeteditor.focus();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"cancelEdit",value:function(){this.setState({previewContent:null,previewSnippet:null,mode:"view"})}},{key:"preview",value:function(){this.setState({previewSnippet:this.snippeteditor.getContent(),previewContent:this.editor.getContent(),mode:"preview"})}},{key:"save",value:function(){var e=_(regeneratorRuntime.mark(function e(){var n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,r=this.snippeteditor?this.snippeteditor.getContent():this.state.previewSnippet,o=this.editor?this.editor.getContent():this.state.previewContent,n=Object(h.b)({data:"Сохраняю новость",time:null}),e.next=7,Object(i.I)(Object.assign({},this.state.article,{content:o,snippet:r}));case 7:a.a.invalidate(),this.setState({previewContent:null,previewSnippet:null,article:Object.assign({},this.state.article,{snippet:r,content:o}),mode:"view"}),Object(h.c)(n),Object(h.b)({data:"Новость сохранена",time:3e3}),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(1),console.error(e.t0),n&&Object(h.c)(n),Object(h.b)({data:t("span",null,"Ошибка при сохранении,"," ",t("span",{className:"pseudo",onClick:function(){window.location.reload}},"обновить страницу?")),time:1e4});case 18:case"end":return e.stop()}},e,this,[[1,13]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var n=this;return this.state.error&&this.state.error.status&&404===this.state.error.status?t(f.a,null):this.state.error?t(p.a,{code:this.state.error.status||500,message:this.state.error.statusText||this.state.error.message||"Произошла ошибка"}):null===this.state.article?t(l.a,null):s.j.test(this.state.article.origlink)?t("article",{className:"article"},t(E,{article:this.state.article}),t(S,{baseurl:s.k.baseurl,site_id:"radiot",id:"to-comments",className:"article__remark-comments",url:this.state.article.origlink})):t("article",{className:"article"},t(E,{article:this.state.article}),e&&["view"===this.state.mode&&t("div",{className:"article__edit"},t("span",{className:"pseudo article__edit-button article__edit-button-edit",onClick:function(){return n.edit()}},"Редактировать")),"edit"===this.state.mode&&t("div",{className:"article__edit"},t("span",{className:"pseudo article__edit-button",onClick:function(){return n.cancelEdit()}},"Отменить")," / ",t("span",{className:"pseudo article__edit-button",onClick:function(){return n.preview()}},"Превью")," / ",t("span",{className:"pseudo article__edit-button",onClick:function(){return n.save()}},"Сохранить")),"preview"===this.state.mode&&t("div",{className:"article__edit"},t("span",{className:"pseudo article__edit-button",onClick:function(){return n.cancelEdit()}},"Отменить")," / ",t("span",{className:"pseudo article__edit-button",onClick:function(){return n.setState({mode:"edit"})}},"Продолжить")," / ",t("span",{className:"pseudo article__edit-button",onClick:function(){return n.save()}},"Сохранить"))],!e&&t("div",{className:"article-content article__content",dangerouslySetInnerHTML:{__html:this.state.article.content||this.state.article.snippet}}),e&&"preview"===this.state.mode&&t("div",{className:"article__snippet",dangerouslySetInnerHTML:{__html:null!==this.state.previewSnippet?this.state.previewSnippet:this.state.article.snippet||""}}),e&&("view"===this.state.mode||"preview"===this.state.mode)&&t("div",{className:"article-content article__content",dangerouslySetInnerHTML:{__html:null!==this.state.previewContent?this.state.previewContent:this.state.article.content||""}}),"edit"===this.state.mode&&[t("div",{className:"article__editor-title article__editor-title-content"},"Сниппет"),t(d.a,{className:"article__editor",content:this.state.previewSnippet||"",ref:function(t){return n.snippeteditor=t},placeholder:"сниппет",rich:!1}),t("div",{className:"article__editor-title article__editor-title-snippet"},"Контент"),t(d.a,{className:"article__editor",content:this.state.previewContent||"",ref:function(t){return n.editor=t},placeholder:"контент",rich:!0})],t("hr",{className:"article__break"}),t(S,{className:"article__comments",id:"to-comments",baseurl:s.k.baseurl,site_id:s.k.site_id,url:"https://news.radio-t.com/post/".concat(this.state.article.slug)}))}}])&&k(u.prototype,m),v&&k(u,v),c}()}var C=T(!1),N=T(!0)}).call(this,n(0).createElement)},132:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return d});n(15),n(16),n(18),n(6),n(93),n(20),n(8),n(29),n(94),n(10),n(90),n(13);var r=n(0),o=n(2);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=null,d=function(e){function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=c(this,l(i).call(this,t))).state={loaded:!1},null!==p?(e.setState({loaded:!0}),c(e)):(Promise.all([n.e(1).then(n.t.bind(null,247,7)),n.e(1).then(n.t.bind(null,248,7)),n.e(1).then(n.t.bind(null,249,7)),n.e(1).then(n.t.bind(null,250,7))]).then(function(t){var n=a(t,1)[0];e.setState({loaded:!0}),p=n.default}),e)}var d,h,m;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(i,r["PureComponent"]),d=i,(h=[{key:"componentDidMount",value:function(){var t=this;u(l(i.prototype),"componentDidMount",this)&&u(l(i.prototype),"componentDidMount",this).call(this),Object(o.m)(function(){return null!==p}).then(function(){t.props.rich?t.quill=new p(t.editor,{theme:"snow",placeholder:t.props.placeholder||"",modules:{toolbar:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike","link"],["blockquote","code-block"],[{align:[]}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],["clean"]]}}):t.quill=new p(t.editor,{theme:"snow",placeholder:t.props.placeholder||"",modules:{toolbar:null},formats:[]})})}},{key:"getContent",value:function(){return this.props.rich?this.quill.root.innerHTML:this.quill.root.innerHTML.replace(/(<br\/?>|<\/p><p>)/gi," ").replace(/(<([^>]+)>)/gi,"")}},{key:"focus",value:function(){var t=this;window.setTimeout(function(){t.quill.root.focus()},100)}},{key:"render",value:function(){var e=this;return this.state.loaded?t("div",{className:"editor-container "+(this.props.rich?"":"editor-container--poor ")+(this.props.className||"")},t("div",{className:"editor",ref:function(t){return e.editor=t||void 0},dangerouslySetInnerHTML:{__html:this.props.content}})):"Загружаю"}}])&&s(d.prototype,h),m&&s(d,m),i}()}).call(this,n(0).createElement)},174:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return x});n(15),n(16),n(18),n(6),n(50),n(20),n(8),n(10),n(162),n(13);var r=n(0),o=n(3),i=n(177),a=n(122),s=n(27),c=n(124),u=n(48),l=n(55),f=n(100),p=n(77),d=n(131),h=n(185),m=n(186),v=n(102),b=n(5),y=n(34);function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _(t,e){return!e||"object"!==g(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function k(t){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function O(t,e){return(O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var x=function(e){function n(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(e=_(this,k(n).call(this,t))).router=null,e}var g,x,j;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O(t,e)}(n,r["Component"]),g=n,(x=[{key:"render",value:function(){var e=this;return t(a.a,{ref:function(t){return e.router=t}},t("div",{className:"page"},t(s.a,{render:function(n){var r=n.history;return t(i.a,Object.assign({},e.props,{history:r}))}}),t("div",{className:"content page__content"},t(c.a,null,t(s.a,{path:"/",exact:!0,render:function(){return t(l.a,{scrollKey:"main"},t(p.c,{isAdmin:e.props.isAdmin,activeId:e.props.activeId,ref:function(t){return window[y.b]=t}}))}}),t(s.a,{path:"/admin/",exact:!0,render:function(){return t(u.a,{to:"/login/"})}}),t(s.a,{path:"/deleted/",exact:!0,render:function(){return e.props.isAdmin?t(l.a,null,t(p.b,null)):t(u.a,{to:"/login/"})}}),t(s.a,{path:"/archive/",exact:!0,render:function(){return t(l.a,null,t(p.a,{isAdmin:e.props.isAdmin}))}}),t(s.a,{path:"/add/",exact:!0,render:function(){return e.props.isAdmin?(document.title="Добавить новость | Новости Радио-Т",t(f.a,null)):t(u.a,{to:"/login/"})}}),t(s.a,{path:"/feeds/",exact:!0,render:function(){return e.props.isAdmin?t(h.a,null):t(u.a,{to:"/login/"})}}),t(s.a,{path:"/sort/",render:function(){return e.props.isAdmin?t(l.a,null,t(p.d,{activeId:e.props.activeId})):t(u.a,{to:"/login/"})}}),t(s.a,{path:"".concat(o.i,"/:slug"),render:function(n){return e.props.isAdmin?t(l.a,{scrollKey:"post",shouldUpdateScroll:function(t,e){return!!e.location.key}},t(d.b,{slug:n.match.params.slug})):t(l.a,{scrollKey:"post",shouldUpdateScroll:function(t,e){return!!e.location.key}},t(d.a,{slug:n.match.params.slug}))}}),t(s.a,{path:"/login/",exact:!0,render:function(){return t(m.a,null)}}),t(s.a,{component:v.a}))),t("div",{className:"footer page__footer"},t("hr",null),t("a",{href:"http://radio-t.com/"},"Radio-T"),","," ",(new Date).getFullYear(),t("br",null),t("span",{className:"footer__buildtime"},"built on ","Sun, 09 May 2021 19:39:03 GMT")),t(b.a,{className:"page__notifications"})))}}])&&w(g.prototype,x),j&&w(g,j),n}()}).call(this,n(0).createElement)},177:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return M});n(15),n(16),n(18),n(45),n(6),n(20),n(8),n(29),n(10),n(90),n(231),n(13),n(31);var r=n(0),o=n(4),i=n(24),a=n(5),s=n(3),c=n(53),u=n(27),l=n(39),f=n(96),p=n(180),d=n(2),h=n(34),m=n(40),v=n.n(m),b=n(178),y=n.n(b),g=n(179),w=n.n(g),_=n(181),k=n.n(_);function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function x(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function j(t,e){return!e||"object"!==O(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function S(t){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function E(t,e){return(E=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function T(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function C(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){T(i,r,o,a,s,"next",t)}function s(t){T(i,r,o,a,s,"throw",t)}a(void 0)})}}var N=function(t){Object(i.b)(t),Object(o.G)(t)};function P(e){var n=e.theme;return t("button",{onClick:function(){return N("day"===n?"night":"day")},title:"day"===n?"Поставить ночную тему":"Поставить дневную тему",className:"inline-button navigation__item navigation__theme-switcher"},t(v.a,{svg:"day"===n?y.a:w.a,className:"icon navigation__theme-switcher-icon"}))}function D(){return R.apply(this,arguments)}function R(){return(R=C(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.p)();case 2:if(e=t.sent){t.next=5;break}return t.abrupt("return",null);case 5:return n=Boolean((new Date).getTime()-e.getTime()<s.d),t.abrupt("return",n?e:null);case 7:case"end":return t.stop()}},t)}))).apply(this,arguments)}var L=Symbol(),M=function(e){function n(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),j(this,S(n).apply(this,arguments))}var m,b,y;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&E(t,e)}(n,r["Component"]),m=n,(b=[{key:"componentDidMount",value:function(){var t=C(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.props.isAdmin&&this.pollForShowStartTime();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return t("div",{className:"header wrapper page__header"},t("h1",{className:"title header__title"},"Новости для ",t("span",{className:"no-break"},"Радио-Т"),this.props.issueNumber&&t("span",{className:"header__issue-number"},this.props.issueNumber.link?t("a",{href:this.props.issueNumber.link,title:"Темы слушателей"},this.props.issueNumber.number):this.props.issueNumber.number),this.props.isAdmin&&this.state.showStartTime&&t(p.a,{className:"header__show-start-counter",from:this.state.showStartTime,title:Object(d.b)(this.state.showStartTime).replace("&nbsp;"," ")})),t("ul",{className:"navigation header__navigation",role:"navigation","aria-label":"Main navigation"},this.props.isAdmin&&t("li",{className:"navigation__item navigation__item_admin navigation__item_right navigation__item_logout"},t("span",{role:"button",className:"pseudo navigation__item-link",onClick:function(){return e.logout()}},"Выйти")),t("li",{className:"navigation__item navigation__item_user"},t(c.a,{to:"/",exact:!0,className:"link navigation__item-link"},"Все темы")),this.props.isAdmin&&t("li",{className:"navigation__item navigation__item_admin",id:"dels-wrap"},t(c.a,{to:"/deleted/",exact:!0,className:"link navigation__item-link"},"Удалённые")),t("li",{className:"navigation__item"},t(c.a,{to:"/archive/",exact:!0,className:"link navigation__item-link"},"Архив")),this.props.isAdmin&&[t("li",{className:"navigation__item navigation__item_admin"},t(c.a,{to:"/sort/",exact:!0,className:"link navigation__item-link",title:"Сортировать Темы"},"Сортировать")),t("li",{className:"navigation__item navigation__item_admin"},t(c.a,{to:"/feeds/",exact:!0,className:"link navigation__item-link",title:"Управление фидами"},"Фиды")),t("li",{className:"navigation__item navigation__item_admin"},t("span",{role:"button",className:"pseudo navigation__item-link",onClick:function(){return e.poehali()}},"Поехали!")),t("li",{className:"navigation__item navigation__item_admin"},t("span",{role:"button",className:"pseudo navigation__item-link",onClick:function(){return e.startPrepTopics()},title:"Начать темы слушателей"},"Темы слушателей")),t(P,{theme:this.props.theme}),t("div",{className:"navigation__separator"})],null!==this.props.activeId&&t("li",{className:"navigation__item navigation__item_to-current"},t("span",null,t(f.a,{title:"К текущей теме",className:"pseudo navigation__item-link"}))),t(u.a,{path:"".concat(s.i,"/:slug"),render:function(){return t("li",{className:"navigation__item navigation__item_to-comments"},t(l.a,{to:"#to-comments",onClick:function(t){t.preventDefault();var e=document.getElementById("to-comments");e?(Object(d.j)(e),Object(d.k)(500).then(function(){window.location.hash="to-comments"})):console.error("Comments node not found")},className:"pseudo navigation__item-link"},"К комментариям"))}}),!this.props.isAdmin&&t("li",{className:"navigation__item navigation__rss"},t("a",{href:"/rss",className:"navigation__rss-link",title:"Фид новостей"},t(v.a,{svg:k.a,className:"navigation__rss-icon"}))),!this.props.isAdmin&&t(P,{theme:this.props.theme})),t("hr",null))}},{key:"pollForShowStartTime",value:function(){var e=C(regeneratorRuntime.mark(function e(){var n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,D();case 3:e.t1=e.sent,e.t2={showStartTime:e.t1},e.t0.setState.call(e.t0,e.t2),(new Date).getUTCDay()===s.l.getUTCDay()&&Promise.resolve().then(C(regeneratorRuntime.mark(function e(){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=null;case 1:if(n.state.showStartTime){e.next=16;break}return e.next=4,D();case 4:if(!(o=e.sent)){e.next=8;break}return n.setState({showStartTime:o}),e.abrupt("break",16);case 8:if(!((new Date).getTime()>=s.l.getTime()+s.m&&null===r)){e.next=12;break}r=Object(a.b)(function(e){return{data:t("span",null,"Может"," ",t("span",{className:"pseudo",onClick:function(){var t=C(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.poehali();case 2:e();case 3:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()},"поехали?")),time:null}}),e.next=14;break;case 12:return e.next=14,Object(d.k)(6e4);case 14:e.next=1;break;case 16:r&&Object(a.c)(r);case 17:case"end":return e.stop()}},e)}))).catch(function(t){return console.error(t)});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"logout",value:function(){Object(o.u)(),Object(i.a)({isAdmin:!1})}},{key:"poehali",value:function(){var e=this,n=prompt("Таки поехали?\n\nСколько минут назад?","0");if(null!==n){var r=parseInt(n,10),i=function(){var t=new Date;return"".concat(t.getUTCDate()," ").concat(Object(d.e)(t.getUTCMonth()).toLocaleLowerCase()," ").concat(t.getUTCFullYear()," года")},s=0===r?o.H:C(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(e=new Date).setUTCMinutes(e.getUTCMinutes()-r),t.abrupt("return",Object(o.H)(e));case 3:case"end":return t.stop()}},t)}));Object(a.b)({data:"Стартую",context:L}),s().then(C(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Object(a.d)(L),Object(a.b)({data:t("div",null,t("b",null,"Шоу началось"),t("br",null),t("span",null,i())),context:L,time:2e4}),n.t0=e,n.next=5,D();case 5:n.t1=n.sent,n.t2={showStartTime:n.t1},n.t0.setState.call(n.t0,n.t2);case 8:case"end":return n.stop()}},n)}))).catch(function(e){console.error(e),Object(a.d)(L),Object(a.b)({data:t("div",null,t("b",null,"Ошибка при старте шоу"),t("br",null),t("span",null,i())),context:L,level:"error",time:2e4})})}}},{key:"startPrepTopics",value:function(){var t=C(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(confirm("Таки темы слушателей?")){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,Object(h.a)()||this.props.history.push("/"),t.next=6,Object(d.m)(function(){return!!Object(h.a)()},15e3,new Error('Can\'t navigate to "/"'));case 6:Object(h.a)().startPrepTopics(),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.error(t.t0),Object(a.b)({data:"Произошла ошибка при активации тем слушателей",level:"error"});case 13:case"end":return t.stop()}},t,this,[[2,9]])}));return function(){return t.apply(this,arguments)}}()}])&&x(m.prototype,b),y&&x(m,y),n}()}).call(this,n(0).createElement)},178:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M16 2 C34 5, 34 27, 16 30" fill="hsl(200, 2%, 10%)"></path><circle cx="16" cy="16" r="13" fill="none" stroke="hsl(200, 2%, 10%)" stroke-width="2" stroke-location="inside"></circle></svg>'},179:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><circle cx="16" cy="16" r="10" fill="hsl(40, 100%, 80%)"></circle><line x1="16" y1="0" x2="16" y2="32" stroke="hsl(40, 100%, 80%)" stroke-width="4"></line><line x1="0" y1="16" x2="32" y2="16" stroke="hsl(40, 100%, 80%)" stroke-width="4"></line><line x1="4.5" y1="4.5" x2="27.5" y2="27.5" stroke="hsl(40, 100%, 80%)" stroke-width="4"></line><line x1="4.5" y1="27.5" x2="27.5" y2="4.5" stroke="hsl(40, 100%, 80%)" stroke-width="4"></line></svg>'},180:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return l});n(15),n(16),n(18),n(6),n(91),n(20),n(8),n(10),n(13);var r=n(0),o=n(2);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(e){function n(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),s(this,c(n).apply(this,arguments))}var i,l,f;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(n,r["PureComponent"]),i=n,(l=[{key:"componentDidMount",value:function(){this.start()}},{key:"componentWillUnmount",value:function(){this.stop()}},{key:"componentDidUpdate",value:function(){this.stop(),this.start()}},{key:"start",value:function(){var t=this,e=(new Date).getTime()-performance.now(),n=e-(this.props.from||new Date).getTime(),r=function(){var e=t.props.withSeconds?Object(o.f)(n+performance.now()):Object(o.f)(n+performance.now()).slice(0,-3);e!==t.root.textContent&&(t.root.textContent=e)};r(),this.interval=window.setInterval(r,this.props.withSeconds?200:5e3)}},{key:"stop",value:function(){this.interval&&window.clearInterval(this.interval)}},{key:"render",value:function(){var e=this;return t("span",{id:this.props.id||"",ref:function(t){return e.root=t},title:this.props.title||void 0,className:"counter ".concat(this.props.className||"")})}}])&&a(i.prototype,l),f&&a(i,f),n}()}).call(this,n(0).createElement)},181:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><circle cx="4" cy="28" r="4" fill="currentColor #888" stroke="none"></circle><circle cx="0" cy="32" r="17" fill="none" stroke="currentColor #888" stroke-width="6"></circle><circle cx="0" cy="32" r="28" fill="none" stroke="currentColor #888" stroke-width="6"></circle></svg>'},182:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return f});n(15),n(16),n(18),n(6),n(46),n(20),n(8),n(10),n(13);var r=n(0),o=n(3),i=n(183);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(e){function n(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),c(this,u(n).apply(this,arguments))}var a,f,p;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(n,r["Component"]),a=n,(f=[{key:"render",value:function(){var e=this;return t("div",{className:"listing-actions "+(this.props.className||"")},this.props.includeFilters?t("div",{className:"listing-actions__filters"},this.props.postRecentness&&t("button",{className:"listing-actions__news-recent-button "+(this.props.postRecentness===o.h[1]?"listing-actions__news-recent-button-active":""),onMouseDown:function(){var t=e.props.postRecentness===o.h[0]?o.h[1]:o.h[0];e.props.onRecentnessChange&&e.props.onRecentnessChange(t)}},t("span",{style:{borderBottom:"1px dashed"}},"Свежие")),t(i.a,{items:o.g.map(function(t){return t.title}),value:this.props.postLevel.title,onChange:function(t){return e.props.onPostLevelChange&&e.props.onPostLevelChange(t)},className:"listing-actions__news-type-select ".concat(this.props.postLevel.title!==o.g[0].title?"listing-actions__news-type-select-selected":"")})):t("div",null),t("div",{className:"listing-actions__sortings"},t("ul",{className:"sortings-list"},(this.props.sortings||o.n).map(function(n){return n.title===e.props.sort.title?t("li",{role:"button",className:"sortings-list__item sortings-list__current-item",key:n.title},t("label",{className:"sortings-list__item-content sortings-list__current-item-content",tabIndex:0},t("input",{type:"radio",className:"sortings-list__item-input",checked:!0,name:"post-sortings",value:n.title}),n.title)):t("li",{role:"button",className:"sortings-list__item",onMouseDown:function(){return e.props.onSortingChange&&e.props.onSortingChange(n)},key:n.title},t("label",{className:"sortings-list__item-content",tabIndex:0,onKeyPress:function(t){13===t.keyCode&&(t.preventDefault(),e.props.onSortingChange&&e.props.onSortingChange(n))}},t("input",{type:"radio",className:"sortings-list__item-input",name:"post-sortings",value:n.title}),n.title))}))))}}])&&s(a.prototype,f),p&&s(a,p),n}()}).call(this,n(0).createElement)},183:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return u});n(15),n(16),n(18),n(6),n(46),n(20),n(8),n(10),n(13);var r=n(0);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=function(e){function n(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(e=a(this,s(n).call(this,t))).state={expanded:!1,selected:t.items.indexOf(t.value)},e.ref=null,e}var o,u,l;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(n,r["PureComponent"]),o=n,(u=[{key:"render",value:function(){var e=this;return t("div",{ref:function(t){return e.ref=t},className:"select "+(this.props.className?this.props.className:""),tabIndex:0,onFocus:function(){return e.setState({expanded:!0,selected:e.props.items.indexOf(e.props.value)})},onBlur:function(){return e.setState({expanded:!1})},onKeyPress:function(t){switch(t.keyCode){case 38:t.preventDefault(),e.setState(function(t){return{selected:(t.selected+e.props.items.length-1)%e.props.items.length}});break;case 40:t.preventDefault(),e.setState(function(t){return{selected:(t.selected+e.props.items.length+1)%e.props.items.length}});break;case 13:t.preventDefault(),e.props.onChange&&e.props.onChange(e.props.items[e.state.selected]),e.ref.blur();break;case 27:t.preventDefault(),e.ref.blur()}}},t("div",{className:"select__current"},t("span",{className:"select__current-value"},this.props.value)),this.state.expanded&&t("ul",{className:"select__items",role:"listbox"},this.props.items.map(function(n,r){return t("li",{role:"option",className:"select__item "+(n===e.props.value?"select__item--current ":"")+(r===e.state.selected?"select__item--selected ":""),"aria-selected":n===e.props.value,onClick:function(){e.ref.blur(),n!==e.props.value&&e.props.onChange(n)},onMouseEnter:function(){e.setState({selected:r})}},t("span",null,n))})))}}])&&i(o.prototype,u),l&&i(o,l),n}()}).call(this,n(0).createElement)},185:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return m});n(15),n(16),n(18),n(6),n(46),n(20),n(8),n(29),n(10),n(13),n(31);var r=n(0),o=n(4),i=n(2),a=n(33),s=n(43);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function l(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){u(i,r,o,a,s,"next",t)}function s(t){u(i,r,o,a,s,"throw",t)}a(void 0)})}}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var m=function(e){function n(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(e=p(this,d(n).call(this,t))).state={feeds:[],loaded:!1,posting:!1,feedurl:"",error:null},Object(o.j)().then(function(t){e.setState({feeds:t,loaded:!0})}).catch(function(t){e.setState({error:t})}),e}var c,u,m;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(n,r["PureComponent"]),c=n,(u=[{key:"componentWillMount",value:function(){document.title="Управление фидами | Новости Радио-Т"}},{key:"componentDidMount",value:function(){var t=this;Object(i.m)(function(){return!!t.input},1e4).then(function(){t.input.focus()})}},{key:"render",value:function(){var e=this;return this.state.error?t(s.a,{code:this.state.error.status||500,message:this.state.error.statusText||this.state.error.message||"Произошла ошибка"}):this.state.loaded?t("div",{className:"feeds"},t("div",{className:"feeds__container"},this.state.feeds.map(function(n){return t("div",{className:"feeds__item",key:n.id},t("h2",{className:"feeds__item-header"},t("a",{className:"feeds__item-link",href:n.feedlink},n.feedlink)),t("span",{className:"feeds__updated-at",dangerouslySetInnerHTML:{__html:"Обновлено "+Object(i.b)(new Date(Date.parse(n.updated)))}}),t("span",{className:"pseudo feeds__remove-feed",onClick:function(){return e.removeFeed(n)}},"Удалить"))})),t("form",{className:"feeds__add-form",onSubmit:function(t){return e.onSubmit(t)}},t("input",{className:"feeds__add-input",type:"text",placeholder:"Добавить фид",value:this.state.feedurl,onChange:function(t){return e.setState({feedurl:t.target.value})},ref:function(t){return e.input=t}}),t("input",{className:"feeds__add-submit",type:"submit",value:"Добавить",disabled:0===this.state.feedurl.length})),this.state.posting&&t("span",null,"работаю...")):t(a.a,null)}},{key:"removeFeed",value:function(){var t=l(regeneratorRuntime.mark(function t(e){var n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!confirm("Удалить ".concat(e.feedlink,"?"))){t.next=12;break}return this.setState({posting:!0}),t.prev=2,t.next=5,Object(o.B)(e.id);case 5:return t.next=7,Object(i.k)(1e3);case 7:return t.next=9,Object(o.j)().then(function(t){n.setState({feeds:t})});case 9:return t.prev=9,this.setState({posting:!1}),t.finish(9);case 12:case"end":return t.stop()}},t,this,[[2,,9,12]])}));return function(e){return t.apply(this,arguments)}}()},{key:"onSubmit",value:function(){var t=l(regeneratorRuntime.mark(function t(e){var n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),this.setState({posting:!0}),t.prev=2,t.next=5,Object(o.c)(this.state.feedurl);case 5:return t.next=7,Object(i.k)(1e3);case 7:return t.next=9,Object(o.j)().then(function(t){n.setState({feeds:t,feedurl:""})});case 9:return t.prev=9,this.setState({posting:!1}),t.finish(9);case 12:case"end":return t.stop()}},t,this,[[2,,9,12]])}));return function(e){return t.apply(this,arguments)}}()}])&&f(c.prototype,u),m&&f(c,m),n}()}).call(this,n(0).createElement)},186:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return h});n(15),n(16),n(18),n(6),n(20),n(8),n(29),n(10),n(13),n(31);var r=n(0),o=n(24),i=n(4),a=n(48),s=n(2);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=function(e){function n(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(e=f(this,p(n).call(this,t))).state={user:"",password:"",denied:0,loggedIn:!1},e}var c,h,m;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(n,r["Component"]),c=n,(h=[{key:"componentDidMount",value:function(){var t=this;Object(i.t)().then(function(e){t.setState({loggedIn:e})}),document.title="Вход | Новости Радио-Т",Object(s.m)(function(){return!!document.querySelector("input.login-form__user")}).then(function(){document.querySelector("input.login-form__user").focus()})}},{key:"render",value:function(){var e=this;return this.state.loggedIn?t(a.a,{to:"/"}):t("form",{className:"login-form",onSubmit:function(t){return e.onSubmit(t)}},t("p",{className:"login-form__header"},"Авторизуйтесь:"),t("input",{className:"login-form__user",type:"text",placeholder:"Логин",value:this.state.user,onChange:function(t){return e.setState({user:t.target.value})}}),t("input",{className:"login-form__password",type:"password",placeholder:"Пароль",value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})}}),t("input",{className:"login-form__submit",type:"submit",value:"Войти",disabled:0===this.state.user.length||0===this.state.password.length,title:0===this.state.user.length||0===this.state.password.length?"Поля Логин и Пароль должны быть заполнены":""}),this.state.denied>0&&t("p",{className:"login-form__denied"},"You shall not pass!"))}},{key:"onSubmit",value:function(){var t,e=(t=regeneratorRuntime.mark(function t(e){var n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.next=3,Object(i.s)(this.state.user,this.state.password).catch(function(t){return console.error(t),!1});case 3:if(t.sent){t.next=8;break}return this.setState(function(t){return{denied:t.denied+1}}),window.setTimeout(function(){n.setState(function(t){var e=t.denied-1;return{denied:e<0?0:e}})},7e3),t.abrupt("return");case 8:Object(o.a)({isAdmin:!0}),this.setState({loggedIn:!0});case 10:case"end":return t.stop()}},t,this)}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){u(i,r,o,a,s,"next",t)}function s(t){u(i,r,o,a,s,"throw",t)}a(void 0)})});return function(t){return e.apply(this,arguments)}}()}])&&l(c.prototype,h),m&&l(c,m),n}()}).call(this,n(0).createElement)},188:function(t,e,n){"use strict";n.r(e),function(t){n(6),n(8),n(29),n(10),n(13),n(31),n(200),n(201),n(202),n(203);var e=n(0),r=n(24),o=n(5),i=n(4),a=n(2),s=n(52),c=n(174),u=n(96),l=n(3);function f(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function p(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){f(i,r,o,a,s,"next",t)}function s(t){f(i,r,o,a,s,"throw",t)}a(void 0)})}}function d(){return(d=p(regeneratorRuntime.mark(function n(){var f,d;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:try{f=Object(i.r)(),document.documentElement.dataset.theme=f,Object(r.b)(f,!0)}catch(t){console.error(t)}return d=Object(s.b)(function(t){return t})(c.a),n.next=4,Object(i.t)().then(function(t){Object(r.a)({isAdmin:t})});case 4:Object(i.k)().then(function(t){t&&Object(r.a)({issueNumber:t})}),Object(e.render)(t(s.a,{store:r.c},t(d,null)),document.querySelector(".app")),Object(i.e)().catch(function(){return null}).then(function(){var e=p(regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Object(r.a)({activeId:n}),e.next=3,Object(a.l)();case 3:return e.prev=4,e.delegateYield(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.z)();case 2:if((n=e.sent)!==r.c.getState().activeId){e.next=7;break}return Object(o.d)(l.a),Object(o.b)({data:t("b",null,"Тема активирована"),time:3e3}),e.abrupt("return","continue");case 7:Object(r.a)({activeId:n}),window.setTimeout(p(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Object(a.k)(700).then(function(){document.title="* Тема обновлена | Новости Радио-Т"}),e.next=3,Object(i.g)(n);case 3:(r=e.sent)&&r.hasOwnProperty("title")&&(Object(o.d)(l.a),Object(o.b)(function(e){return{data:t("span",null,"Тема обновлена:",t("br",null),t(u.a,{title:"“".concat(r.title,"”"),onClick:function(){return e()}})),time:null,context:l.a}}));case 5:case"end":return e.stop()}},e)})),0);case 9:case"end":return e.stop()}},e)})(),"t0",6);case 6:if("continue"!==e.t0){e.next=9;break}return e.abrupt("continue",3);case 9:e.next=14;break;case 11:e.prev=11,e.t1=e.catch(4),console.error("Error while setting active article");case 14:e.next=3;break;case 16:case"end":return e.stop()}},e,null,[[4,11]])}));return function(t){return e.apply(this,arguments)}}());case 7:case"end":return n.stop()}},n)}))).apply(this,arguments)}(function(){return d.apply(this,arguments)})().catch(function(t){return console.error(t)})}.call(this,n(0).createElement)},2:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a}),n.d(e,"k",function(){return s}),n.d(e,"l",function(){return c}),n.d(e,"i",function(){return l}),n.d(e,"m",function(){return p}),n.d(e,"j",function(){return h}),n.d(e,"h",function(){return m}),n.d(e,"g",function(){return v}),n.d(e,"c",function(){return b}),n.d(e,"f",function(){return y}),n.d(e,"e",function(){return g}),n.d(e,"d",function(){return w});n(15),n(16),n(18),n(45),n(221),n(6),n(166),n(91),n(8),n(29),n(51),n(10),n(13),n(31);function r(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function o(t){return function(){var e=this,n=arguments;return new Promise(function(o,i){var a=t.apply(e,n);function s(t){r(a,o,i,s,c,"next",t)}function c(t){r(a,o,i,s,c,"throw",t)}s(void 0)})}}function i(t,e){var n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;if(e(s))return s}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return null}function a(t){return("0"+t.getDate()).slice(-2)+"."+("0"+(t.getMonth()+1)).slice(-2)+"."+t.getFullYear()+" в&nbsp;"+("0"+t.getHours()).slice(-2)+":"+("0"+t.getMinutes()).slice(-2)}function s(t){return new Promise(function(e){return window.setTimeout(e,t)})}function c(){return u.apply(this,arguments)}function u(){return(u=o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("complete"!==document.readyState){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,s(200);case 5:t.next=0;break;case 7:case"end":return t.stop()}},t)}))).apply(this,arguments)}function l(t){return f.apply(this,arguments)}function f(){return(f=o(regeneratorRuntime.mark(function t(e){var n,r,o,i=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=i.length>1&&void 0!==i[1]?i[1]:3,r=i.length>2&&void 0!==i[2]?i[2]:0,o=0;case 3:if(!(o<n)){t.next=20;break}return t.prev=4,t.next=7,e();case 7:return t.abrupt("return",t.sent);case 10:if(t.prev=10,t.t0=t.catch(4),o!==n-1){t.next=14;break}throw t.t0;case 14:if(!r){t.next=17;break}return t.next=17,s(r);case 17:o++,t.next=3;break;case 20:throw new Error("Error while retry");case 21:case"end":return t.stop()}},t,null,[[4,10]])}))).apply(this,arguments)}function p(t){return d.apply(this,arguments)}function d(){return(d=o(regeneratorRuntime.mark(function t(e){var n,r,o,i,a=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=a.length>1&&void 0!==a[1]?a[1]:null,r=a.length>2&&void 0!==a[2]?a[2]:null,o=a.length>3&&void 0!==a[3]?a[3]:100,i=(new Date).getTime();case 4:return t.next=7,e();case 7:if(!t.sent){t.next=9;break}return t.abrupt("return");case 9:if(null===n){t.next=13;break}if(!((new Date).getTime()-i>n)){t.next=13;break}throw r||new Error("Time passed");case 13:return t.next=15,s(o);case 15:t.next=4;break;case 17:case"end":return t.stop()}},t)}))).apply(this,arguments)}var h=function(){if("scrollBehavior"in document.documentElement.style)return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"smooth";return t.scrollIntoView({behavior:e,block:"start"})};var t=function(t,e,n,r){return t>=e?r:n+(o=t/e,-(Math.pow(o-1,4)-1))*(r-n);var o},e=window.requestAnimationFrame||window.webkitRequestAnimationFrame;return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"smooth";if("smooth"!==r)return n.scrollIntoView({behavior:r,block:"start"});var o=window.scrollY||window.pageYOffset,i=n.getBoundingClientRect(),a=o+(i.y||i.top),s=performance.now(),c=500;e(function n(r){var i=r-s,u=t(i,c,o,a);window.scrollTo(0,u),i<=c?e(n):window.scrollTo(0,a)})}}();var m="requestIdleCallback"in window?window.requestIdleCallback:function(t){return t(),0};function v(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ",r=t.toString();return r.length>=e?r:new Array(e-r.length).fill(n).join("")+r}function b(t){return new Date(t)}function y(t){var e=t/1e3,n=Math.floor(e/3600),r=Math.floor(e%3600/60),o=Math.floor(e%60);return"".concat(v(n,2,"0"),":").concat(v(r,2,"0"),":").concat(v(o,2,"0"))}function g(t){switch(t){case 0:return"Января";case 1:return"Февраля";case 2:return"Марта";case 3:return"Апреля";case 4:return"Мая";case 5:return"Июня";case 6:return"Июля";case 7:return"Августа";case 8:return"Сентября";case 9:return"Октября";case 10:return"Ноября";case 11:return"Декабря";default:throw new Error("Invalid month's number")}}function w(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,e=new Date(t);e.setUTCHours(20,0,0,0);var n=e.getUTCDay();switch(n){case 0:e.setUTCDate(e.getUTCDate()+6);break;case 1:case 2:case 3:case 4:case 5:e.setUTCDate(e.getUTCDate()+(6-n))}return e}},200:function(t,e,n){},203:function(t,e,n){"use strict";var r=n(0),o=n(171);r.default.createContext=o.createContext},21:function(t,e,n){"use strict";n(6),n(158),n(8),n(29),n(10),n(13),n(31);var r=n(3),o=n(4);function i(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function a(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function s(t){i(a,r,o,s,c,"next",t)}function c(t){i(a,r,o,s,c,"throw",t)}s(void 0)})}}var s=function(){if(null===r.f)return{get:function(){var t=a(regeneratorRuntime.mark(function t(){var e,n,r=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=r.length>0&&void 0!==r[0]?r[0]:"common",t.t0=e,t.next="common"===t.t0?4:"archive"===t.t0?8:"deleted"===t.t0?12:16;break;case 4:return t.next=6,Object(o.l)();case 6:return n=t.sent,t.abrupt("break",17);case 8:return t.next=10,Object(o.f)();case 10:return n=t.sent,t.abrupt("break",17);case 12:return t.next=14,Object(o.i)();case 14:return n=t.sent,t.abrupt("break",17);case 16:throw new Error("Unknown Label");case 17:return t.abrupt("return",n);case 18:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),invalidate:function(){}};var t=new Map;return{get:function(){var e=a(regeneratorRuntime.mark(function e(){var n,i,a,s,c,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=u.length>0&&void 0!==u[0]?u[0]:"common",i=u.length>1&&void 0!==u[1]&&u[1],a=(new Date).getTime(),i||!t.has(n)){e.next=7;break}if(s=t.get(n),!(a-s.timestamp<Math.max(6e4*r.f-500,0))){e.next=7;break}return e.abrupt("return",s.data);case 7:e.t0=n,e.next="common"===e.t0?10:"archive"===e.t0?14:"deleted"===e.t0?18:22;break;case 10:return e.next=12,Object(o.l)();case 12:return c=e.sent,e.abrupt("break",23);case 14:return e.next=16,Object(o.f)();case 16:return c=e.sent,e.abrupt("break",23);case 18:return e.next=20,Object(o.i)();case 20:return c=e.sent,e.abrupt("break",23);case 22:throw new Error("Unknown Label");case 23:return t.set(n,{data:c,timestamp:a}),e.abrupt("return",c);case 25:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),invalidate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!==e?t.delete(e):t.clear()}}}();e.a=s},24:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return a}),n.d(e,"b",function(){return c});n(50);var r=n(95),o={issueNumber:null,isAdmin:!1,activeId:null,theme:"day"},i=Object(r.b)(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"setState":return Object.assign({},t,e.state);default:return t}});function a(t){i.dispatch({type:"setState",state:t})}var s=0;function c(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a({theme:t}),e?document.documentElement.dataset.theme=t:(++s,document.documentElement.classList.add("switch-transition"),window.setTimeout(function(){document.documentElement.dataset.theme=t,window.setTimeout(function(){--s<1&&document.documentElement.classList.remove("switch-transition")},1500)},10))}},3:function(t,e,n){"use strict";var r=new Date,o=n(2);n.d(e,"b",function(){return i}),n.d(e,"i",function(){return a}),n.d(e,"k",function(){return s}),n.d(e,"e",function(){return u}),n.d(e,"f",function(){return l}),n.d(e,"a",function(){return f}),n.d(e,"d",function(){return p}),n.d(e,"l",function(){return d}),n.d(e,"m",function(){return h}),n.d(e,"j",function(){return m}),n.d(e,"c",function(){return v}),n.d(e,"n",function(){return b}),n.d(e,"h",function(){return y}),n.d(e,"g",function(){return g});var i="https://news.radio-t.com/api/v1",a="/post",s={baseurl:"https://remark42.radio-t.com",site_id:"rtnews"},c=r.getTime(),u=10,l=5,f="active-article",p=216e5,d=Object(o.d)(),h=9e5,m=/^https?:\/\/radio-t.com\/p\/\d{4}\/\d{2}\/\d{2}\/prep-\d+\/?$/i,v=-1!==window.navigator.userAgent.indexOf("Safari"),b=[{title:"По приоритету",fn:function(t,e){return t.position===e.position?0:t.position>e.position?-1:1}},{title:"По дате добавления",fn:function(t,e){return t.ats===e.ats?0:t.parsedats>e.parsedats?-1:1}},{title:"По комментариям",fn:function(t,e){return t.comments===e.comments?0:t.comments>e.comments?-1:1}}],y=[{title:"Все",fn:function(){return!0}},{title:"Свежие",fn:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=c-t.parsedats;return!!(n&&t.geek&&r<2592e5)||r<18144e5}}],g=[{title:"Все",fn:function(){return!0}},{title:"Обычные",fn:function(t,e){return!t.geek}},{title:"Гиковские",fn:function(t,e){return t.geek},isgeek:!0}]},33:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return u});n(15),n(16),n(18),n(6),n(50),n(20),n(8),n(10),n(235),n(13);var r=n(0);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=function(e){function n(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(e=a(this,s(n).call(this,t))).state={numberOfDots:(t.numberOfDots||3)-1},e.interval=window.setInterval(function(){e.setState(function(t){return{numberOfDots:(t.numberOfDots+1)%(e.props.numberOfDots||3)}})},500),e}var o,u,l;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(n,r["Component"]),o=n,(u=[{key:"render",value:function(){return t("div",Object.assign({className:"loading"},this.props),this.props.text||"Загружаю",t("span",{className:"loading__dots"},".",".".repeat(this.state.numberOfDots)))}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}}])&&i(o.prototype,u),l&&i(o,l),n}()}).call(this,n(0).createElement)},34:function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return o});n(15),n(16),n(8);var r=Symbol();function o(){return window[r]||null}},4:function(t,e,n){"use strict";n.d(e,"n",function(){return g}),n.d(e,"k",function(){return w}),n.d(e,"l",function(){return k}),n.d(e,"f",function(){return O}),n.d(e,"i",function(){return x}),n.d(e,"g",function(){return E}),n.d(e,"h",function(){return C}),n.d(e,"e",function(){return P}),n.d(e,"z",function(){return D}),n.d(e,"b",function(){return L}),n.d(e,"I",function(){return M}),n.d(e,"d",function(){return I}),n.d(e,"a",function(){return A}),n.d(e,"A",function(){return H}),n.d(e,"C",function(){return U}),n.d(e,"y",function(){return q}),n.d(e,"v",function(){return W}),n.d(e,"w",function(){return F}),n.d(e,"x",function(){return Y}),n.d(e,"j",function(){return z}),n.d(e,"c",function(){return J}),n.d(e,"B",function(){return K}),n.d(e,"H",function(){return X}),n.d(e,"p",function(){return G}),n.d(e,"o",function(){return V}),n.d(e,"E",function(){return $}),n.d(e,"m",function(){return Q}),n.d(e,"D",function(){return Z}),n.d(e,"q",function(){return tt}),n.d(e,"F",function(){return et}),n.d(e,"r",function(){return nt}),n.d(e,"G",function(){return rt}),n.d(e,"s",function(){return it}),n.d(e,"t",function(){return at}),n.d(e,"u",function(){return st});n(15),n(16),n(18),n(45),n(6),n(46),n(158),n(50),n(20),n(8),n(214),n(29),n(216),n(51),n(10),n(162),n(90),n(13),n(163),n(31);var r=n(3),o=n(2);function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function s(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function s(t){a(i,r,o,s,c,"next",t)}function c(t){a(i,r,o,s,c,"throw",t)}s(void 0)})}}function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){var e="function"==typeof Map?new Map:void 0;return(l=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return f(t,arguments,d(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),p(r,t)})(t)}function f(t,e,n){return(f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&p(o,n.prototype),o}).apply(null,arguments)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=/(\t|\s)+/g,m=/([^\s\\]{16})/gm,v=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,d(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,l(TypeError)),e}();function b(t){if("object"!==c(t)||null===t)throw new v("Article type is wrong");var e=Object.assign({},t);if(e.hasOwnProperty("snippet")&&(e.snippet=e.snippet.replace(h," ").replace(m,"$1&shy;")),e.hasOwnProperty("ts")&&(e.parsedts=Date.parse(e.ts)),e.hasOwnProperty("ats")&&(e.parsedats=Date.parse(e.ats)),e.hasOwnProperty("activets")&&(e.parsedactivets=Date.parse(e.activets)),""===e.domain)try{var n=new URL(e.origlink);e.domain=n.hostname}catch(t){}return e}function y(t){return t.map(b)}function g(){return fetch("https://radio-t.com/site-api/last/1?categories=prep").then(function(t){return t.status>=400?new Error(t.statusText):t.json()}).then(function(t){return t.length<1?null:t[0].url||null})}function w(){return Object(o.i)(function(){return fetch("https://radio-t.com/site-api/last/1?categories=podcast,prep")}).then(function(t){return t.json()}).then(function(t){var e=t[0].title.match(/^Темы для (\d+)$/i);if(e&&e.length>1)return{number:parseInt(e[1],10),link:t[0].url+"#remark42"};var n=t[0].title.match(/^Радио-Т (\d+)$/i);return n&&n.length>1?{number:parseInt(n[1],10)+1,link:null}:null}).catch(function(){return null})}function _(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.hasOwnProperty("headers")||(e.headers=new Headers),localStorage.getItem("rt-news.auth")&&e.headers.append("Authorization","Basic "+localStorage.getItem("rt-news.auth")),fetch(r.b+t+"?timestamp=".concat((new Date).getTime()),Object.assign({mode:"cors",credentials:"omit"},e)).then(function(t){if(t.status>=400)throw t;return t.json().catch(function(){return null})})}function k(){return _("/news").then(y)}function O(){return _("/news/archive").then(y)}function x(){return _("/news/del").then(y)}var j=new Map,S=new Map;function E(t){return T.apply(this,arguments)}function T(){return(T=s(regeneratorRuntime.mark(function t(e){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!S.has(e)){t.next=2;break}return t.abrupt("return",Promise.resolve(j.get(S.get(e))));case 2:return t.next=4,_("/news/id/"+encodeURIComponent(e));case 4:if((n=t.sent).hasOwnProperty("id")){t.next=7;break}return t.abrupt("return",null);case 7:return r=b(n),j.set(r.slug,r),S.set(r.id,r.slug),t.abrupt("return",r);case 11:case"end":return t.stop()}},t)}))).apply(this,arguments)}function C(t){return N.apply(this,arguments)}function N(){return(N=s(regeneratorRuntime.mark(function t(e){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!j.has(e)){t.next=2;break}return t.abrupt("return",Promise.resolve(j.get(e)));case 2:return t.next=4,_("/news/slug/"+encodeURIComponent(e));case 4:if((n=t.sent).hasOwnProperty("id")){t.next=7;break}return t.abrupt("return",null);case 7:return r=b(n),j.set(e,r),S.set(r.id,r.slug),t.abrupt("return",r);case 11:case"end":return t.stop()}},t)}))).apply(this,arguments)}function P(){return _("/news/active/id").then(function(t){return t.id||null}).catch(function(){return null})}function D(){return R.apply(this,arguments)}function R(){return(R=s(regeneratorRuntime.mark(function t(){var e,n,r=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=r.length>0&&void 0!==r[0]?r[0]:295;case 1:return t.prev=2,t.next=5,_("/news/active/wait/".concat(e));case 5:if(null==(n=t.sent)||!n.hasOwnProperty("id")){t.next=8;break}return t.abrupt("return",n.id);case 8:t.next=15;break;case 10:return t.prev=10,t.t0=t.catch(2),console.error("Error while polling for active article"),t.next=15,Object(o.k)(3e3);case 15:t.next=1;break;case 17:case"end":return t.stop()}},t,null,[[2,10]])}))).apply(this,arguments)}function L(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a={link:t},s=!!(e||n||r||o);e&&e.length>0&&(a.title=e),n&&n.length>0&&(a.snippet=n),r&&r.length>0&&(a.content=r),o&&(a.position=o);var c=new Headers;c.append("Content-Type","application/json");var u=s?"/news/manual":"/news",l=!0,f=!1,p=void 0;try{for(var d,h=j.entries()[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var m=i(d.value,2),v=m[0],b=m[1];b.title===e&&(j.delete(v),S.delete(b.id))}}catch(t){f=!0,p=t}finally{try{l||null==h.return||h.return()}finally{if(f)throw p}}return _(u,{method:"POST",body:JSON.stringify(a),headers:c})}function M(t){var e=!0,n=!1,r=void 0;try{for(var o,a=j.entries()[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var s=i(o.value,2),c=s[0],u=s[1];u.id===t.id&&(j.delete(c),S.delete(u.id))}}catch(t){n=!0,r=t}finally{try{e||null==a.return||a.return()}finally{if(n)throw r}}var l=new Headers;return l.append("Content-Type","application/json"),_("/news/manual",{method:"POST",body:JSON.stringify(t),headers:l})}function I(t){return _("/news/archive/".concat(t),{method:"PUT"})}function A(t){return _("/news/active/".concat(t),{method:"PUT"})}function H(t){return _("/news/".concat(t),{method:"DELETE"})}function U(t){return _("/news/undelete/".concat(t),{method:"PUT"})}function q(t,e){return _("/news/moveid/".concat(t,"/").concat(e),{method:"PUT"})}function W(t){return B.apply(this,arguments)}function B(){return(B=s(regeneratorRuntime.mark(function t(e){var n,r,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_("/news/positions");case 2:if((n=t.sent).hasOwnProperty(e)){t.next=5;break}throw new Error("Can't find id's position");case 5:return r=n[e],o=Object.values(n).reduce(function(t,e){return Math.max(t,e)},0),i=o-r,t.abrupt("return",_("/news/moveid/".concat(e,"/").concat(i),{method:"PUT"}));case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}function F(t){return _("/news/geek/".concat(t),{method:"PUT"})}function Y(t){return _("/news/nogeek/".concat(t),{method:"PUT"})}function z(){return _("/feeds")}function J(t){var e=new Headers;return e.append("Content-Type","application/json"),_("/feeds",{method:"POST",headers:e,body:JSON.stringify({feedlink:t})})}function K(t){return _("/feeds/"+t,{method:"DELETE"})}function X(t){return _("/show/start"+(t?"/".concat(encodeURIComponent(function(t){var e=new Date(t);e.setUTCHours(e.getUTCHours()-6);var n=function(t){return Object(o.g)(t,2,"0")};return"".concat(e.getUTCFullYear()).concat(n(e.getUTCMonth()+1)).concat(n(e.getUTCDate()),"-").concat(n(e.getUTCHours())).concat(n(e.getUTCMinutes())).concat(n(e.getUTCSeconds()))}(t))):""),{method:"PUT"})}function G(){return _("/show/start").then(function(t){return t.started?Object(o.c)(t.started):null}).catch(function(t){return console.error(t),null})}function V(){var t=localStorage.getItem("recentness");return Object(o.a)(r.h,function(e){return e.title===t})||r.h[0]}function $(t){localStorage.setItem("recentness",t.title)}function Q(){var t=localStorage.getItem("postLevel");return Object(o.a)(r.g,function(e){return e.title===t})||r.g[0]}function Z(t){localStorage.setItem("postLevel",t.title)}function tt(){var t=localStorage.getItem("sorting");return Object(o.a)(r.n,function(e){return e.title===t})||r.n[0]}function et(t){localStorage.setItem("sorting",t.title)}function nt(){var t=localStorage.getItem("theme");return null!==t?t:(window.matchMedia("(prefers-color-scheme: dark)").matches?"night":"day")||"day"}function rt(t){localStorage.setItem("theme",t)}function ot(t){var e=new Headers;return e.append("Authorization","Basic "+t),fetch(r.b+"/news/reload",{method:"PUT",headers:e,credentials:"omit",mode:"cors"}).then(function(t){return 200===t.status}).catch(function(){return!1})}function it(t,e){var n=btoa(t+":"+e);return ot(n).then(function(t){return t&&localStorage.setItem("rt-news.auth",n),t})}function at(){if(!localStorage.getItem("rt-news.auth"))return Promise.resolve(!1);var t=localStorage.getItem("rt-news.auth");return Object(o.i)(function(){return ot(t)},3,1e3)}function st(){localStorage.removeItem("rt-news.auth")}},43:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return u});n(15),n(16),n(18),n(6),n(20),n(8),n(10),n(13);var r=n(0);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=function(e){function n(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),a(this,s(n).apply(this,arguments))}var o,u,l;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(n,r["Component"]),o=n,(u=[{key:"componentDidMount",value:function(){document.title="Ошибка | Новости для Радио-Т"}},{key:"render",value:function(){return t("div",{className:"not-found"},this.props.code&&t("h1",{className:"not-found__header"},this.props.code),this.props.message&&t("p",{className:"not-found__text"},this.props.message),t("a",{href:"",className:"not-found__link",onClick:function(t){t.preventDefault(),window.location.reload()}},"Обновить"))}}])&&i(o.prototype,u),l&&i(o,l),n}()}).call(this,n(0).createElement)},5:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return p}),n.d(e,"b",function(){return m}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return b});n(15),n(16),n(18),n(45),n(92),n(119),n(6),n(46),n(91),n(50),n(20),n(8),n(51),n(10),n(13);var r=n(0);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=Symbol();function f(){return window[l]}var p=function(e){function n(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(e=s(this,c(n).call(this,t))).state={notifications:[]},e}var o,f,p;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(n,r["Component"]),o=n,(f=[{key:"componentDidMount",value:function(){window[l]=this}},{key:"add",value:function(t){this.setState({notifications:[].concat(i(this.state.notifications),[t])})}},{key:"remove",value:function(t){this.setState({notifications:this.state.notifications.filter(function(e){return e!==t})})}},{key:"removeWithContext",value:function(t){this.setState({notifications:this.state.notifications.filter(function(e){return e.context!==t})})}},{key:"render",value:function(){return t("div",{className:"notifications"},this.state.notifications&&this.state.notifications.slice(0).reverse().map(function(e){return t("div",{className:"notifications__item "+(e.level?"notifications__item-level-".concat(e.level):""),key:e.id},e.data,e.closable&&t("div",{role:"button",className:"notifications__close-item",onClick:function(){return v(e)}},"×︎"))}))}}])&&a(o.prototype,f),p&&a(o,p),n}(),d=0;function h(e){var n;return(n="string"==typeof e?{data:t("span",{dangerouslySetInnerHTML:{__html:e}}),time:3e3,level:"default"}:"string"==typeof e.data?Object.assign({},e,{data:t("span",{dangerouslySetInnerHTML:{__html:e.data}})}):Object.assign({},e)).id=d++,Object.assign(n,Object.assign({context:null,level:"default",time:3e3,closable:!0},n)),n.data.key=n.id,n}function m(t){var e;if("function"==typeof t){var n={};Object.assign(n,h(t(function(){f().remove(n)}))),e=n}else e=h(t);return f().add(e),e.time&&window.setTimeout(function(){f().remove(e)},e.time),e}function v(t){f().remove(t)}function b(t){f().removeWithContext(t)}}).call(this,n(0).createElement)},65:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return P}),n.d(e,"c",function(){return D}),n.d(e,"b",function(){return L});n(15),n(16),n(18),n(45),n(92),n(6),n(20),n(8),n(10),n(237),n(13);var r=n(0),o=n(2),i=n(3),a=n(4),s=n(52),c=n(127),u=n(39),l=n(184),f=n(33),p=n(40),d=n.n(p),h=n(128),m=n.n(h),v=n(76),b=n.n(v),y=n(101),g=n(129),w=n(130);function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function k(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function x(t,e,n){return e&&O(t.prototype,e),n&&O(t,n),t}function j(t,e){return!e||"object"!==_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function S(t){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function E(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&T(t,e)}function T(t,e){return(T=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var C=Object(s.b)(function(t){return{theme:"day"===t.theme?"light":"dark"}})(y.a),N=function(e){function n(t){var e;return k(this,n),(e=j(this,S(n).call(this,t))).state={articleText:null,detailedExpanded:!1},e.fetchLock=!1,e.detailedRef=null,e.getPosition=function(){return e.props.article.position},e.getData=function(){return e.props.article.id},e}return E(n,r["Component"]),x(n,[{key:"fetchArticle",value:function(){var t=this;this.fetchLock||null===this.state.articleText&&(this.fetchLock=!0,Object(a.h)(this.props.article.slug).then(function(e){t.setState({articleText:e.content})}).catch(function(e){t.setState({articleText:"Не смог загрузить новость"}),t.fetchLock=!1,console.error(e)}))}},{key:"render",value:function(){var e=this;return t("article",{key:this.props.article.id,ref:function(t){return e.mainElement=t},id:this.props.active?i.a:void 0,className:"post "+(this.props.active&&!0===this.props.active?"post-active":"")},t("div",{className:"post__drag-handle",ref:function(t){return e.dragHandle=t},style:{display:this.props.draggable?"":"none"}}),this.props.controls&&t(c.a,{className:"post__controls",controls:this.props.controls,onChange:function(t){return e.props.onChange&&e.props.onChange(t)}}),this.props.article.pic&&!this.props.archive&&t("div",{className:"post__image-container",style:{backgroundImage:"url(".concat(this.props.article.pic,")")}}),t("h3",{className:"title post__title "},this.props.article.geek&&t(d.a,{className:"icon post__title-geek-icon",svg:b.a,title:"Гиковская тема"}),t(u.a,{className:"post__title-link "+(this.props.article.geek?"post__title-link--geek":""),to:"".concat(i.i,"/").concat(this.props.article.slug)},this.props.article.title||t("span",{className:"post__empty-title"},"No Title"))),t("div",{className:"post__meta"},t("a",{className:"post__original-link",href:this.props.article.origlink,title:this.props.article.origlink,target:"_blank"},this.props.article.domain),t("span",{className:"post__timestamp",title:this.props.article.ats,dangerouslySetInnerHTML:{__html:Object(o.b)(new Date(Date.parse(this.props.article.ats)))}}),!this.props.archive&&t(l.HashLink,{className:"post__comments-link",to:"".concat(i.i,"/").concat(this.props.article.slug,"#to-comments"),scroll:function(t){window.setTimeout(function(){Object(o.j)(t)},500)}},t(d.a,{className:"icon post__comments-icon",svg:m.a}),this.props.article.comments)),!this.props.archive&&[t("div",{key:"paragraph",className:"post__snippet"},t("p",{dangerouslySetInnerHTML:{__html:this.props.article.snippet}})),t("span",{key:"detailed",className:"pseudo post__detailed-link",ref:function(t){return e.detailedRef=t},onClick:function(){e.setState({detailedExpanded:!e.state.detailedExpanded}),e.fetchArticle()}},this.state.detailedExpanded?"Скрыть":"Подробнее"),this.state.detailedExpanded&&(null===this.state.articleText?t("div",{className:"post__full-content",key:"fulltext"},t(f.a,null)):t("div",{className:"post__full-content",key:"fulltext"},i.j.test(this.props.article.origlink)?t("div",{className:"article-content post__full-content-content post__remark-comments"},t(C,{baseurl:i.k.baseurl,site_id:"radiot",id:"to-comments",url:this.props.article.origlink})):t("div",{className:"article-content post__full-content-content",dangerouslySetInnerHTML:{__html:this.state.articleText}}),t("div",{className:"post__full-content-hide",onClick:function(){if(e.mainElement){var t=e.detailedRef.getBoundingClientRect();(t.y||t.top)<0&&Object(o.j)(e.mainElement)}e.setState({detailedExpanded:!1})},title:"К заголовку"},t("span",{className:"post__full-content-hide-button"},"^"))))])}}]),n}(),P=Object(g.a)(N,["active"]),D=Object(w.a)(P,"rtnews/article"),R=function(e){function n(t){var e;return k(this,n),(e=j(this,S(n).call(this,t))).state={draggable:!1},e.controls=function(){return[e.props.active?null:"make-current",e.props.article.geek?"make-ungeek":"make-geek","archive","remove"].filter(function(t){return null!==t})},e.getPosition=function(){return e.props.article.position},e.getData=function(){return e.props.article.id},e}return E(n,r["Component"]),x(n,[{key:"render",value:function(){var e=this;return t("div",{className:"sorter__item "+(this.props.active?"sorter__item-current":""),ref:function(t){return e.mainElement=t}},t("div",{className:"sorter__item-content"},t(c.a,{className:"sorter__item-controls",controls:this.controls(),onChange:function(t){return e.props.onChange&&e.props.onChange(t)}}),t("div",{className:"sorter__item-header"},this.props.article.geek&&t(d.a,{className:"icon sorter__geek-indicator",svg:b.a,title:"Гиковская тема"}),t(u.a,{to:"".concat(i.i,"/").concat(this.props.article.slug),className:"sorter__item-link "+(this.props.article.geek?"sorter__item-link--geek":"")},this.props.article.title.trim())),t("div",{className:"sorter__item-meta"},t("a",{className:"sorter__item-original-link",href:this.props.article.origlink,title:this.props.article.origlink},this.props.article.domain),t("span",{className:"sorter__item-timestamp",title:this.props.article.ats,dangerouslySetInnerHTML:{__html:Object(o.b)(new Date(Date.parse(this.props.article.ats)))}}),t("span",{className:"sorter__comments-link"},t(d.a,{className:"icon sorter__comments-icon",svg:m.a})," ",this.props.article.comments))),t("div",{className:"sorter__item-handle",ref:function(t){return e.dragHandle=t}},"☰"))}}]),n}(),L=Object(w.a)(Object(g.a)(R,["active"]),"rtnews/article")}).call(this,n(0).createElement)},76:function(t,e){t.exports='<svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor #000" d="M1152 896q0-106-75-181t-181-75-181 75-75 181 75 181 181 75 181-75 75-181zm512-109v222q0 12-8 23t-20 13l-185 28q-19 54-39 91 35 50 107 138 10 12 10 25t-9 23q-27 37-99 108t-94 71q-12 0-26-9l-138-108q-44 23-91 38-16 136-29 186-7 28-36 28h-222q-14 0-24.5-8.5t-11.5-21.5l-28-184q-49-16-90-37l-141 107q-10 9-25 9-14 0-25-11-126-114-165-168-7-10-7-23 0-12 8-23 15-21 51-66.5t54-70.5q-27-50-41-99l-183-27q-13-2-21-12.5t-8-23.5v-222q0-12 8-23t19-13l186-28q14-46 39-92-40-57-107-138-10-12-10-24 0-10 9-23 26-36 98.5-107.5t94.5-71.5q13 0 26 10l138 107q44-23 91-38 16-136 29-186 7-28 36-28h222q14 0 24.5 8.5t11.5 21.5l28 184q49 16 90 37l142-107q9-9 24-9 13 0 25 10 129 119 165 170 7 8 7 22 0 12-8 23-15 21-51 66.5t-54 70.5q26 50 41 98l183 28q13 2 21 12.5t8 23.5z"></path></svg>'},77:function(t,e,n){"use strict";(function(t){n.d(e,"c",function(){return R}),n.d(e,"a",function(){return L}),n.d(e,"b",function(){return M}),n.d(e,"d",function(){return I});n(15),n(16),n(18),n(45),n(92),n(119),n(6),n(46),n(91),n(50),n(93),n(20),n(8),n(29),n(94),n(51),n(10),n(13),n(31);var r=n(0),o=n(2),i=n(3),a=n(4),s=n(24),c=n(5),u=n(21),l=n(43),f=n(65),p=n(182),d=n(100),h=n(33);function m(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function v(t,e,n){return(v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=O(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function w(t,e,n){return e&&g(t.prototype,e),n&&g(t,n),t}function _(t,e){return!e||"object"!==b(e)&&"function"!=typeof e?k(t):e}function k(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function x(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&j(t,e)}function j(t,e){return(j=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function S(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function E(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){S(i,r,o,a,s,"next",t)}function s(t){S(i,r,o,a,s,"throw",t)}a(void 0)})}}var T=Symbol();function C(t,e){return N.apply(this,arguments)}function N(){return(N=E(regeneratorRuntime.mark(function t(e,n){var r,o,i,a=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:null,o=Object(c.b)({data:e,time:3e4,context:r}),t.prev=2,t.next=5,n();case 5:return i=t.sent,t.abrupt("return",i);case 7:return t.prev=7,window.setTimeout(function(){Object(c.c)(o)},500),t.finish(7);case 10:case"end":return t.stop()}},t,null,[[2,,7,10]])}))).apply(this,arguments)}function P(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.e;return null===e?t:function(n){function r(t){var e;return y(this,r),(e=_(this,O(r).call(this,t))).updateTimestamp=0,e.updateInterval=null,e}return x(r,t),w(r,[{key:"componentDidMount",value:function(){var t=this;v(O(r.prototype),"componentDidMount",this)&&v(O(r.prototype),"componentDidMount",this).call(this),this.updateTimestamp=(new Date).getTime();var n=6e4*e,i=Math.min(3e4,n);this.updateInterval=window.setInterval(E(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((new Date).getTime()-t.updateTimestamp>n)){e.next=4;break}return e.next=4,new Promise(function(e){Object(o.h)(function(){t.update().then(function(){return e()}).catch(function(t){console.error(t),e()})},{timeout:i})});case 4:case"end":return e.stop()}},e)})),i)}},{key:"componentWillUnmount",value:function(){v(O(r.prototype),"componentWillUnmount",this)&&v(O(r.prototype),"componentWillUnmount",this).call(this),this.updateInterval&&clearInterval(this.updateInterval)}},{key:"update",value:function(){var t=E(regeneratorRuntime.mark(function t(){var e,n=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]&&n[0],t.next=3,v(O(r.prototype),"update",this).call(this,e);case 3:this.updateTimestamp=(new Date).getTime();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),r}()}var D=function(t){function e(t){var n;return y(this,e),(n=_(this,O(e).call(this,t))).updateArticle=n.updateArticle.bind(k(n)),n.onArticleChange=n.onArticleChange.bind(k(n)),n}return x(e,r["Component"]),w(e,[{key:"update",value:function(){var t=E(regeneratorRuntime.mark(function t(){var e,n,r=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r.length>0&&void 0!==r[0]&&r[0],t.prev=1,this.dataProvider){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,this.dataProvider(e);case 6:n=t.sent,this.setState({news:n,loaded:!0}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e||!this.state.loaded?this.setState({error:t.t0}):Object(c.b)({data:"Произошла ошибка при обновлении новостей",time:1e4});case 13:case"end":return t.stop()}},t,this,[[1,10]])}));return function(){return t.apply(this,arguments)}}()},{key:"updateArticle",value:function(t,e){var n=this.state.news.indexOf(t);if(-1===n)return null;if(e===T)return this.setState({news:[].concat(m(this.state.news.slice(0,n)),m(this.state.news.slice(n+1)))}),null;var r=this.state.news[n],o=Object.assign({},r,e);return this.setState({news:[].concat(m(this.state.news.slice(0,n)),[o],m(this.state.news.slice(n+1)))}),o}},{key:"onArticleChange",value:function(){var t=E(regeneratorRuntime.mark(function t(e,n){var r,c,l,f,p,d,h,m,v=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=v.length>2&&void 0!==v[2]?v[2]:null,t.t0=n,t.next="make-first"===t.t0?4:"make-current"===t.t0?13:"make-geek"===t.t0?22:"make-ungeek"===t.t0?27:"archive"===t.t0?32:"remove"===t.t0?39:"restore"===t.t0?46:"move"===t.t0?52:64;break;case 4:return c=this.state.news.reduce(function(t,e){return Math.max(t,e.position)},0),this.updateArticle(e,{position:c+1}),t.next=8,C("делаю тему первой",E(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(a.v)(e.id);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})));case 8:return l=t.sent,f=this.state.news.slice(0).map(function(t){return l.hasOwnProperty(t.id)?Object.assign({},t,{position:l[t.id]}):t}),this.setState({news:f}),u.a.invalidate("common"),t.abrupt("break",66);case 13:return Object(s.a)({activeId:e.id}),t.next=16,C("активирую",E(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(a.a)(e.id);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})),i.a);case 16:if(t.t1=this.update,!t.t1){t.next=20;break}return t.next=20,this.update(!0);case 20:return u.a.invalidate("common"),t.abrupt("break",66);case 22:return this.updateArticle(e,{geek:!0}),t.next=25,C("делаю тему гиковской",E(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(a.w)(e.id);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})));case 25:return u.a.invalidate("common"),t.abrupt("break",66);case 27:return this.updateArticle(e,{geek:!1}),t.next=30,C("делаю тему негиковской",E(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(a.x)(e.id);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})));case 30:return u.a.invalidate("common"),t.abrupt("break",66);case 32:return this.updateArticle(e,T),e.id===this.props.activeId&&Object(s.a)({activeId:null}),t.next=36,C("убираю в архив",E(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(a.d)(e.id);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})));case 36:return u.a.invalidate("common"),u.a.invalidate("archive"),t.abrupt("break",66);case 39:return this.updateArticle(e,T),e.id===this.props.activeId&&Object(s.a)({activeId:null}),t.next=43,C("удаляю",E(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(a.A)(e.id);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})));case 43:return u.a.invalidate("common"),u.a.invalidate("deleted"),t.abrupt("break",66);case 46:return this.updateArticle(e,T),t.next=49,C("восстанавливаю",E(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(a.C)(e.id);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})));case 49:return u.a.invalidate("deleted"),u.a.invalidate("common"),t.abrupt("break",66);case 52:if(p=Object(o.a)(this.state.news,function(t){return t.id===r.id})){t.next=55;break}return t.abrupt("return");case 55:return d=r.from<r.to?.2:-.2,this.updateArticle(p,{position:r.to+d}),t.next=59,Object(a.y)(r.id,r.to-r.from);case 59:return h=t.sent,m=this.state.news.slice(0).map(function(t){return h.hasOwnProperty(t.id)?Object.assign({},t,{position:h[t.id]}):t}),this.setState({news:m}),u.a.invalidate("common"),t.abrupt("break",66);case 64:return console.error("unknown action"),t.abrupt("break",66);case 66:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),R=P(function(e){function n(t){var e;return y(this,n),(e=_(this,O(n).call(this,t))).state={postRecentness:Object(a.o)(),postLevel:Object(a.m)(),sort:Object(a.q)(),loaded:!1,error:null,news:[],addFormExpanded:!1},e.dataProvider=function(t){return u.a.get("common",t)},e}return x(n,D),w(n,[{key:"componentDidMount",value:function(){v(O(n.prototype),"componentDidMount",this)&&v(O(n.prototype),"componentDidMount",this).call(this),document.title="Новости для Радио-Т"}},{key:"componentWillMount",value:function(){var t=E(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:v(O(n.prototype),"componentWillMount",this)&&v(O(n.prototype),"componentWillMount",this).call(this),this.update();case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"startPrepTopics",value:function(){var t=E(regeneratorRuntime.mark(function t(){var e,n,r,i,s=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object(c.b)({data:"Начинаю темы слушателей"}),t.next=4,Object(o.m)(function(){return s.state.loaded},2e4);case 4:return t.next=6,Object(a.n)();case 6:if(e=t.sent){t.next=10;break}return Object(c.b)({data:"Не могу найти темы слушателей",level:"error"}),t.abrupt("return");case 10:return n=e.substr(e.length-4,3),r=this.state.news.reduce(function(t,e){return Math.max(t,e.position)},0),t.next=14,Object(a.b)(e,"Темы слушателей ".concat(n),"",'<a href="'.concat(e,'">Темы слушателей</a>'),r+1);case 14:if(t.t0=Object(o.a)(this.state.news,function(t){return t.origlink===e}),t.t0){t.next=19;break}return t.next=18,Object(o.i)(E(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.update(!0);case 2:if(n=Object(o.a)(s.state.news,function(t){return t.origlink===e})){t.next=5;break}throw new Error("Can't find prep article");case 5:return t.abrupt("return",n);case 6:case"end":return t.stop()}},t)})),10,1e3);case 18:t.t0=t.sent;case 19:i=t.t0,this.onArticleChange(i,"make-current"),t.next=32;break;case 23:t.prev=23,t.t1=t.catch(0),console.error(t.t1),t.t2=t.t1.message,t.next="Can't find prep article"===t.t2?29:31;break;case 29:return Object(c.b)({data:"Не могу найти тему слушателей в списке",level:"error"}),t.abrupt("break",32);case 31:Object(c.b)({data:"Произошла ошибка при активации тем слушателей",level:"error"});case 32:case"end":return t.stop()}},t,this,[[0,23]])}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(this.state.error)return t(l.a,{code:this.state.error.status||500,message:this.state.error.statusText||this.state.error.message||"Произошла ошибка"});if(!this.state.loaded)return t(h.a,null);var n=this.state.postRecentness===i.h[0]&&this.state.postLevel===i.g[0]&&this.state.sort===i.n[0];return t("div",null,t(p.a,{includeFilters:!0,className:this.props.isAdmin?"listing-actions-all":"",postRecentness:this.state.postRecentness,onRecentnessChange:function(t){e.setState({postRecentness:t}),Object(a.E)(t)},postLevel:this.state.postLevel,onPostLevelChange:function(t){var n=Object(o.a)(i.g,function(e){return e.title===t});e.setState({postLevel:n}),Object(a.D)(n)},sort:this.state.sort,onSortingChange:function(t){e.setState({sort:t}),Object(a.F)(t)}}),this.props.isAdmin&&t("div",{className:"add-form-overlay "+(this.state.addFormExpanded?"add-form-overlay-expanded":"")},!this.state.addFormExpanded&&t("span",{className:"pseudo add-form-overlay__control",onClick:function(){e.setState({addFormExpanded:!0}),window.setTimeout(function(){var t=document.querySelector(".add-form__article-url")||document.querySelector(".add-form__article-manual-link");t&&t.focus()},500)}},"Добавить новость"),this.state.addFormExpanded&&t("span",{className:"pseudo add-form-overlay__control",onClick:function(){return e.setState({addFormExpanded:!1})}},"Закрыть"),t(d.a,Object.assign({},this.props,{style:{display:this.state.addFormExpanded?"":"none"},onAdd:function(){var t=E(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Object(o.i)(E(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.k)(2e3);case 2:return t.next=4,e.update(!0);case 4:if(null!==Object(o.a)(e.state.news,function(t){return t.origlink===n})){t.next=7;break}throw new Error("Added article is not found");case 7:case"end":return t.stop()}},t)})),5);case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}))),t("div",{className:"news page__news"},this.state.news.slice(0).filter(function(t,n){return e.props.activeId===t.id||e.state.postRecentness.fn(t,n,e.state.postLevel.hasOwnProperty("isgeek"))&&e.state.postLevel.fn(t,n)}).sort(function(t,n){return e.state.sort.fn(t,n)}).map(function(r,o){var i=r.id===e.props.activeId;return e.props.isAdmin?t(f.c,{key:r.id,article:r,archive:!1,controls:[i?null:"make-current",n&&0!==o?"make-first":null,r.geek?"make-ungeek":"make-geek","archive","remove"].filter(function(t){return null!==t}),active:i,draggable:n,onChange:function(t,n){return e.onArticleChange(r,t,n)},onMove:function(t,n,o){e.onArticleChange(r,"move",{id:t,from:n,to:o})}}):t(f.a,{key:r.id,article:r,archive:!1,controls:null,active:i,onChange:function(t,n){return e.onArticleChange(r,t,n)}})})))}}]),n}()),L=P(function(e){function n(t){var e;return y(this,n),(e=_(this,O(n).call(this,t))).state={news:[],loaded:!1,error:null},e.dataProvider=function(t){return u.a.get("archive",t)},e}return x(n,D),w(n,[{key:"componentDidMount",value:function(){v(O(n.prototype),"componentDidMount",this)&&v(O(n.prototype),"componentDidMount",this).call(this),document.title="Архив | Новости Радио-Т"}},{key:"componentWillMount",value:function(){var t=E(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:v(O(n.prototype),"componentWillMount",this)&&v(O(n.prototype),"componentWillMount",this).call(this),this.update();case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.error?t(l.a,{code:this.state.error.status||500,message:this.state.error.statusText||this.state.error.message||"Произошла ошибка"}):this.state.loaded?t("div",{className:"news page__news"},this.state.news.map(function(n){return t(f.a,{key:n.id,article:n,archive:!0,controls:e.props.isAdmin?["remove"]:null,onChange:function(t,r){return e.onArticleChange(n,t,r)}})})):t(h.a,null)}}]),n}()),M=P(function(e){function n(t){var e;return y(this,n),(e=_(this,O(n).call(this,t))).state={news:[],loaded:!1,error:null},e.dataProvider=function(){var t=E(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.get("deleted",e);case 2:return t.t0=function(t,e){return t.ats===e.ats?0:t.parsedats>e.parsedats?-1:1},t.abrupt("return",t.sent.sort(t.t0));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e}return x(n,D),w(n,[{key:"componentDidMount",value:function(){v(O(n.prototype),"componentDidMount",this)&&v(O(n.prototype),"componentDidMount",this).call(this),document.title="Удаленные темы | Новости Радио-Т"}},{key:"componentWillMount",value:function(){v(O(n.prototype),"componentWillMount",this)&&v(O(n.prototype),"componentWillMount",this).call(this),this.update()}},{key:"render",value:function(){var e=this;return this.state.error?t(l.a,{code:this.state.error.status||500,message:this.state.error.statusText||this.state.error.message||"Произошла ошибка"}):this.state.loaded?t("div",{className:"news deleted-news page__news"},this.state.news.map(function(n){return t(f.a,{key:n.id,article:n,controls:["restore"],onChange:function(t,r){return e.onArticleChange(n,t,r)}})})):t(h.a,null)}}]),n}()),I=P(function(e){function n(t){var e;return y(this,n),(e=_(this,O(n).call(this,t))).state={news:[],loaded:!1,error:null},e.dataProvider=function(t){return u.a.get("common",t)},e}return x(n,D),w(n,[{key:"componentDidMount",value:function(){v(O(n.prototype),"componentDidMount",this)&&v(O(n.prototype),"componentDidMount",this).call(this),document.title="Сортировка тем | Новости Радио-Т"}},{key:"componentWillMount",value:function(){v(O(n.prototype),"componentWillMount",this)&&v(O(n.prototype),"componentWillMount",this).call(this),this.update()}},{key:"render",value:function(){var e=this;return this.state.error?t(l.a,{code:this.state.error.status||500,message:this.state.error.statusText||this.state.error.message||"Произошла ошибка"}):this.state.loaded?t("div",{className:"sorter"},this.state.news.slice(0).sort(function(t,e){return t.position===e.position?0:t.position>e.position?-1:1}).map(function(n){return t(f.b,{article:n,key:n.id,active:e.props.activeId===n.id,onChange:function(t,r){return e.onArticleChange(n,t,r)},onMove:function(t,r,o){e.onArticleChange(n,"move",{id:t,from:r,to:o})},draggable:!0})})):t(h.a,null)}}]),n}())}).call(this,n(0).createElement)},96:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return p});n(8),n(29),n(31);var r=n(5),o=n(3),i=n(34),a=n(2),s=n(39);function c(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function u(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){c(i,r,o,a,s,"next",t)}function s(t){c(i,r,o,a,s,"throw",t)}a(void 0)})}}var l="Новости для Радио-Т",f=function(){var e=u(regeneratorRuntime.mark(function e(){var n,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(a.m)(u(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!!Object(i.a)());case 1:case"end":return t.stop()}},t)})));case 2:return n=Object(r.b)({data:"Обновляю список",time:1e4}),(s=Object(i.a)()).update(!0),e.next=7,Object(a.m)(u(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",s.state.loaded);case 1:case"end":return t.stop()}},t)})));case 7:return e.next=9,Object(a.m)(u(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!!document.getElementById(o.a));case 1:case"end":return t.stop()}},t)})),5e3);case 9:if(Object(r.c)(n),c=document.getElementById(o.a),document.title=l,!c){e.next=15;break}return Object(a.j)(c),e.abrupt("return");case 15:Object(r.b)(function(e){return{data:t("b",null,"Не могу найти тему,"," ",t("span",{className:"pseudo",onClick:function(){var t=u(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e(),t.next=3,Object(a.k)(1500);case 3:f();case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()},"обновить список?")),time:3e4}});case 16:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();function p(e){return t(s.a,{to:"/",onClick:function(){var t=u(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return"/"===window.location.pathname&&n.preventDefault(),e.onClick&&e.onClick(n),t.next=4,Object(a.m)(function(){return!!Object(i.a)()&&Object(i.a)().state.loaded});case 4:return t.next=6,Object(a.m)(function(){return!!document.getElementById(o.a)},500).then(function(){document.title=l;var t=document.getElementById(o.a);t&&Object(a.j)(t)}).catch(function(){f()});case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),className:e.className},e.title)}}).call(this,n(0).createElement)}},[[188,2,3]]]);
//# sourceMappingURL=main.component.js.map