jQuery(document).ready(function() {
  var actions = {
    toggleMenu: function() {
      jQuery('body').toggleClass('nav-open');
    },
    closeMenu: function() {
      jQuery('body').removeClass('nav-open');
    }
  };
  jQuery('body').on('click', '[data-action]', function() {
    var action = jQuery(this).data('action');
    if (action in actions) {
      actions[action].apply(this, arguments);
    }
  });
  jQuery('html').on('touchstart', 'body.nav-open', function(e){
    if(!jQuery(e.target).is('a')){
      actions.closeMenu();
    }
  });
  jQuery('html').on('click', 'body.nav-open', function(e){
    if(!jQuery(e.target).is('a')){
      actions.closeMenu();
    }
  });
  jQuery('#inc-search input[type="Text"]').bind("enterKey",function(e){
    goUrl = 'https://threatpoint.checkpoint.com/ThreatPortal/search?pattern=' + jQuery('#inc-search input[type="Text"]').val().toLowerCase() + '&type=all&page=0';
    window.location = goUrl;
  });
  jQuery('#inc-search input[type="Text"]').keyup(function(e){
      if(e.keyCode == 13)
      {
          jQuery(this).trigger("enterKey");
      }
  });
});